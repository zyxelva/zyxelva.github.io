document.addEventListener("DOMContentLoaded",()=>{var e=document.querySelector("#quanquan")||"";function a(a,t){let r=a.length;for(var n="",l=0;l<t&&l<r;l++){var o=a[l];n+=`\n                <div class="forever-item">\n                  <img class="forever-avatar avatar" src="${o.avatar}" alt="${o.author}" onerror="this.src='https://gravatar.loli.net/avatar/57d8260dfb55501c37dde588e7c3852c';this.onerror = null;">\n                  <div class="forever-cont">\n                    <div class="forever-title"><a target="_blank" rel="noopener nofollow" href="${o.link}">${o.title}</a></div>\n                    <div class="forever-updated">${o.updated}</div>\n                  </div>\n                </div>\n            `}e.insertAdjacentHTML("beforeend",n),window.Lately&&Lately.init({target:".forever-updated"})}e&&function(){var e=null,t=20;"undefined"!=typeof myFriendCircles&&(e=myFriendCircles.api);var r=localStorage.getItem("friendCircleUpdated")||"",n=JSON.parse(localStorage.getItem("friendCircleData"))||"";n?(a(n,t),console.log("myQuanquan 本地数据加载成功")):localStorage.setItem("friendCircleUpdated","");if(null===e||""===e)return void console.warn("friends-circle url is null or blank.");fetch(e).then(e=>e.json()).then(e=>{var n=e.statistical_data.last_updated_time;if(n&&r!=n){var l=e.article_data;a(l,t),localStorage.setItem("friendCircleUpdated",n),localStorage.setItem("friendCircleData",JSON.stringify(l)),console.log("myQuanquan 热更新完成")}else console.log("myQuanquan API 数据未更新")})}()});