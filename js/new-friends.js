document.addEventListener("DOMContentLoaded",()=>{const e=document.querySelector("#newFriends")||"";function n(n){let t=0;var a="";n.forEach(e=>{var n=e.title,i=e.name,d=e.introduction,o=e.url,r=e.avatar;a+=`<div class="col s12 m6 l4 friend-div" data-aos="zoom-in-up"><div class="card friend-card${t%10+1}"><div class="friend-ship"><div class="title"><img src="${r}" alt="img"><div><h1 class="friend-name">${i}</h1><p style="position: relative;top: -35px;">${d}</p></div></div><div class="friend-button"><a href="${o}" target="_blank" class="button button-glow button-rounded button-caution">${n}</a></div></div></div></div>`,t++}),e&&e.insertAdjacentHTML("beforeend",a)}e&&function(){var e=null;"undefined"!=typeof myFriends&&(e=myFriends.api);var t=localStorage.getItem("newFriendsUpdated")||"",a=JSON.parse(localStorage.getItem("newFriendsData"))||"";a?(n(a),console.log("newFriends 本地数据加载成功")):localStorage.setItem("newFriendsUpdated","");if(null===e||""===e)return void console.warn("new friends url is null or blank.");fetch(e).then(e=>e.json()).then(e=>{var a=e.statistical_data.last_updated_time;if(a&&t!=a){var i=e.friends;n(i),localStorage.setItem("newFriendsUpdated",a),localStorage.setItem("newFriendsData",JSON.stringify(i)),console.log("newFriends 热更新完成")}else console.log("newFriends API 数据未更新")})}()});