document.addEventListener("DOMContentLoaded",()=>{const e=document.querySelector("#circles")||"",r=document.querySelector("#lastUpdated")||"";function t(r){let t=0;var i="";r.forEach(e=>{e.floor;var r=e.title,a=e.created,l=e.link,n=e.author,d=e.avatar;i+=`<div class="col s12 m6 l4 friend-div" data-aos="zoom-in-up"><div class="card friend-card${t%10+1}"><div class="friend-ship"><div class="title"><img src="${d}" alt="img" /><div><a target="_blank" rel="noopener nofollow" href="${l}"><p class="friend-title">${r}</p></a><p class="friend-name">${n}</p><p>${a}</p></div></div></div></div></div>`,t++}),e&&e.insertAdjacentHTML("beforeend",i)}e&&function(){var e=null;"undefined"!=typeof myFriendCircles&&(e=myFriendCircles.api);var i=localStorage.getItem("friendCircleUpdated")||"",a=JSON.parse(localStorage.getItem("friendCircleData"))||"";r.innerText="最后更新："+i,a?(t(a),console.log("friendCircle 本地数据加载成功")):localStorage.setItem("friendCircleUpdated","");if(null===e||""===e)return void console.warn("friends-circle url is null or blank.");fetch(e).then(e=>e.json()).then(e=>{var a=e.statistical_data.last_updated_time;if(a&&i!=a){var l=e.article_data;r.innerText="最后更新："+a,t(l),localStorage.setItem("friendCircleUpdated",a),localStorage.setItem("friendCircleData",JSON.stringify(l)),console.log("friendCircle 热更新完成")}else console.log("friendCircle API 数据未更新")})}()});