<!DOCTYPE HTML><html lang="zh-CN"><head><meta charset="utf-8"><meta name="keywords" content="【MySQL学习】3.表结构设计和数据类型优化, Back-End Dev Java"><meta name="description" content="1 表设计1.1 数据库表设计良好的表结构设计是高性能的基石，应该根据系统将要执行的业务查询来设计，这往往需要权衡各种因素。糟糕的表结构设计，会浪费大量的开发时间，严重延误项目开发周期，让人痛苦万分，而且直接影响到数据库的性能，并需要花费大"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no"><meta name="renderer" content="webkit|ie-stand|ie-comp"><meta name="mobile-web-app-capable" content="yes"><meta name="format-detection" content="telephone=no"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black-translucent"><meta name="referrer" content="no-referrer-when-downgrade"><title>【MySQL学习】3.表结构设计和数据类型优化 | Kezade</title><link rel="icon" type="image/jpeg" href="https://gcore.jsdelivr.net/gh/zyxelva/zyxelva.github.io@main/medias/avatar/avatar2.jpg"><style>body{background-image:url(https://it-ark-dev.oss-cn-shenzhen.aliyuncs.com/464e9ac7a5a729ae67f91f7cf0cf6fe2.jpg);background-repeat:no-repeat;background-attachment:fixed;background-size:cover;background-position:center center}</style><link rel="stylesheet" href="https://gcore.jsdelivr.net/gh/zyxelva/zyxelva.github.io@main/libs/awesome/css/all.min.css"><link rel="stylesheet" href="https://gcore.jsdelivr.net/gh/zyxelva/zyxelva.github.io@main/libs/materialize/materialize.min.css"><link rel="stylesheet" href="https://gcore.jsdelivr.net/gh/zyxelva/zyxelva.github.io@main/libs/aos/aos.css"><link rel="stylesheet" href="https://gcore.jsdelivr.net/gh/zyxelva/zyxelva.github.io@main/libs/animate/animate.min.css"><link rel="stylesheet" href="https://gcore.jsdelivr.net/gh/zyxelva/zyxelva.github.io@main/libs/lightGallery/css/lightgallery.min.css"><link rel="stylesheet" href="https://gcore.jsdelivr.net/gh/zyxelva/picgo@v3.1/css/matery.css?v3"><link rel="stylesheet" href="https://gcore.jsdelivr.net/gh/zyxelva/zyxelva.github.io@main/css/my.css"><link rel="stylesheet" href="https://gcore.jsdelivr.net/gh/zyxelva/zyxelva.github.io@main/css/dark.css" media="none" onload='"all"!=media&&(media="all")'><link rel="stylesheet" href="https://gcore.jsdelivr.net/gh/zyxelva/zyxelva.github.io@main/libs/tocbot/tocbot.css"><link rel="stylesheet" href="https://gcore.jsdelivr.net/gh/zyxelva/zyxelva.github.io@main/css/post.css"><link rel="stylesheet" href="https://gcore.jsdelivr.net/gh/zyxelva/zyxelva.github.io@main/css/reward.css"><script src="https://gcore.jsdelivr.net/gh/zyxelva/zyxelva.github.io@main/libs/jquery/jquery-3.6.0.min.js"></script><script src="https://gcore.jsdelivr.net/gh/zyxelva/picgo@v3.3/js/function.js?v88"></script><script src="https://gcore.jsdelivr.net/gh/zyxelva/picgo@v1.3/js/imgStatus.min.js"></script><script src="https://gcore.jsdelivr.net/gh/zyxelva/picgo@v1.3/js/waterfall.min.js"></script><script src="https://gcore.jsdelivr.net/gh/zyxelva/picgo@v1.3/js/lately.min.js"></script><script>var memos={host:"https://s.dusays.com/",limit:"10",creatorId:"49",username:"zyxelva",name:"Kezade",domId:"#memos",path:"api/v1/memo"},douban={api:"https://douban-api.edui.fun/"}</script><meta name="generator" content="Hexo 6.3.0"><link rel="alternate" href="/rss2.xml" title="Kezade" type="application/rss+xml"></head><body><header class="navbar-fixed"><nav id="headNav" class="bg-color nav-transparent"><div id="navContainer" class="nav-wrapper container"><div class="brand-logo"><a href="/" class="waves-effect waves-light"><img src="https://gcore.jsdelivr.net/gh/zyxelva/zyxelva.github.io@main/medias/avatar/avatar2.jpg" class="logo-img k-avatar" alt="LOGO"> <span class="logo-span">Kezade</span></a></div><a href="#" data-target="mobile-nav" class="sidenav-trigger button-collapse"><i class="fas fa-bars"></i></a><ul class="right nav-menu"><li class="hide-on-med-and-down nav-item"><a href="/" class="waves-effect waves-light"><i class="fas fa-home" style="zoom:0.6"></i> <span>首页</span></a></li><li class="hide-on-med-and-down nav-item"><a href="" class="waves-effect waves-light"><i class="fa-solid fa-newspaper" style="zoom:0.6"></i> <span>文章</span><i class="fas fa-chevron-down" aria-hidden="true" style="zoom:0.6"></i></a><ul class="sub-nav menus_item_child"><li><a href="/tags"><i class="fas fa-tags" style="margin-top:-20px;zoom:0.6"></i> <span>标签</span></a></li><li><a href="/categories"><i class="fas fa-bookmark" style="margin-top:-20px;zoom:0.6"></i> <span>分类</span></a></li><li><a href="/archives"><i class="fas fa-archive" style="margin-top:-20px;zoom:0.6"></i> <span>归档</span></a></li></ul></li><li class="hide-on-med-and-down nav-item"><a href="" class="waves-effect waves-light"><i class="fa-solid fa-sitemap" style="zoom:0.6"></i> <span>系列</span><i class="fas fa-chevron-down" aria-hidden="true" style="zoom:0.6"></i></a><ul class="sub-nav menus_item_child"><li><a href="/categories/%E7%AE%97%E6%B3%95"><i class="fa-solid fa-rocket" style="margin-top:-20px;zoom:0.6"></i> <span>算法学习</span></a></li><li><a href="/categories/RocketMQ%E5%AD%A6%E4%B9%A0"><i class="fa-solid fa-rocket" style="margin-top:-20px;zoom:0.6"></i> <span>RMQ学习</span></a></li><li><a href="/categories/Netty%E5%AD%A6%E4%B9%A0"><i class="fa-solid fa-rocket" style="margin-top:-20px;zoom:0.6"></i> <span>Netty学习</span></a></li><li><a href="/categories/Spring%E6%BA%90%E7%A0%81%E5%AD%A6%E4%B9%A0"><i class="fa-solid fa-rocket" style="margin-top:-20px;zoom:0.6"></i> <span>Spring学习</span></a></li><li><a href="/categories/JVM%E5%AD%A6%E4%B9%A0"><i class="fa-solid fa-rocket" style="margin-top:-20px;zoom:0.6"></i> <span>JVM学习</span></a></li><li><a href="/categories/MySQL%E5%AD%A6%E4%B9%A0"><i class="fa-solid fa-rocket" style="margin-top:-20px;zoom:0.6"></i> <span>MySQL学习</span></a></li><li><a href="/categories/MyBatis%E6%BA%90%E7%A0%81%E5%AD%A6%E4%B9%A0"><i class="fa-solid fa-rocket" style="margin-top:-20px;zoom:0.6"></i> <span>MyBatis学习</span></a></li><li><a href="/categories/Zookeeper%E5%AD%A6%E4%B9%A0"><i class="fa-solid fa-rocket" style="margin-top:-20px;zoom:0.6"></i> <span>ZK学习</span></a></li><li><a href="/categories/Hexo"><i class="fa-solid fa-rocket" style="margin-top:-20px;zoom:0.6"></i> <span>Hexo学习</span></a></li><li><a href="/categories/Redis%E5%AD%A6%E4%B9%A0"><i class="fa-solid fa-rocket" style="margin-top:-20px;zoom:0.6"></i> <span>Redis学习</span></a></li><li><a href="/categories/Docker%E5%AD%A6%E4%B9%A0"><i class="fa-solid fa-rocket" style="margin-top:-20px;zoom:0.6"></i> <span>Docker学习</span></a></li><li><a href="/categories/AP-Calculus"><i class="fa-solid fa-rocket" style="margin-top:-20px;zoom:0.6"></i> <span>AP学习</span></a></li><li><a href="/categories/A-Level"><i class="fa-solid fa-rocket" style="margin-top:-20px;zoom:0.6"></i> <span>A-Level学习</span></a></li><li><a href="/categories/SAT"><i class="fa-solid fa-rocket" style="margin-top:-20px;zoom:0.6"></i> <span>SAT学习</span></a></li><li><a href="/categories/%E8%80%83%E7%A0%94"><i class="fa-solid fa-rocket" style="margin-top:-20px;zoom:0.6"></i> <span>考研</span></a></li><li><a href="/categories/OSSD"><i class="fa-solid fa-rocket" style="margin-top:-20px;zoom:0.6"></i> <span>OSSD</span></a></li><li><a href="/categories/%E9%AB%98%E8%80%83"><i class="fa-solid fa-rocket" style="margin-top:-20px;zoom:0.6"></i> <span>高考</span></a></li></ul></li><li class="hide-on-med-and-down nav-item"><a href="" class="waves-effect waves-light"><i class="fa-solid fa-place-of-worship" style="zoom:0.6"></i> <span>我的</span><i class="fas fa-chevron-down" aria-hidden="true" style="zoom:0.6"></i></a><ul class="sub-nav menus_item_child"><li><a href="/galleries"><i class="fas fa-image" style="margin-top:-20px;zoom:0.6"></i> <span>相册</span></a></li><li><a href="/bibi"><i class="fa-fw fa-solid fa-cloud-rain" style="margin-top:-20px;zoom:0.6"></i> <span>哔哔</span></a></li><li><a href="/todolist"><i class="fa-fw fa-solid fa-circle-check" style="margin-top:-20px;zoom:0.6"></i> <span>清单</span></a></li><li><a href="/musics"><i class="fas fa-music" style="margin-top:-20px;zoom:0.6"></i> <span>音乐</span></a></li></ul></li><li class="hide-on-med-and-down nav-item"><a href="" class="waves-effect waves-light"><i class="fa-solid fa-circle-info" style="zoom:0.6"></i> <span>更多</span><i class="fas fa-chevron-down" aria-hidden="true" style="zoom:0.6"></i></a><ul class="sub-nav menus_item_child"><li><a href="/contact"><i class="fas fa-comments" style="margin-top:-20px;zoom:0.6"></i> <span>留言</span></a></li><li><a href="/friends"><i class="fa-solid fa-link" style="margin-top:-20px;zoom:0.6"></i> <span>友链</span></a></li><li><a href="/friend-circle"><i class="fa-solid fa-rss" style="margin-top:-20px;zoom:0.6"></i> <span>圈圈</span></a></li><li><a href="/about"><i class="fas fa-user-circle" style="margin-top:-20px;zoom:0.6"></i> <span>关于</span></a></li></ul></li><li><a href="#searchModal" class="modal-trigger waves-effect waves-light"><i id="searchIcon" class="fas fa-search" title="搜索" style="zoom:0.85"></i></a></li><li><a href="javascript:;" class="waves-effect waves-light" onclick="switchNightMode()" title="深色/浅色模式"><i id="sum-moon-icon" class="fas fa-sun" style="zoom:0.85"></i></a></li></ul><div id="mobile-nav" class="side-nav sidenav"><div class="mobile-head bg-color"><img src="https://gcore.jsdelivr.net/gh/zyxelva/zyxelva.github.io@main/medias/avatar/avatar2.jpg" class="logo-img circle responsive-img"><div class="logo-name">Kezade</div><div class="logo-desc">7 年 Java 开发经验，其中 3 年以上大型系统架构设计经验，以及 2 年以上的团队管理经验 | 具有分布式、高并发、高可用、大数据量的系统架构设计以及研发经验 | 对 Zookeeper、Netty、Dubbo、Spring Cloud、 Spring 等开源框架源码有过深入研究，并且有一定的框架定制开发经验</div></div><ul class="menu-list mobile-menu-list"><li class="m-nav-item"><a href="/" class="waves-effect waves-light"><i class="fa-fw fas fa-home"></i> 首页</a></li><li class="m-nav-item"><a href="javascript:;"><i class="fa-fw fa-solid fa-newspaper"></i> 文章<span class="m-icon"><i class="fas fa-chevron-right"></i></span></a><ul><li><a href="/tags" style="margin-left:75px"><i class="fa fas fa-tags" style="position:absolute;left:50px"></i> <span>标签</span></a></li><li><a href="/categories" style="margin-left:75px"><i class="fa fas fa-bookmark" style="position:absolute;left:50px"></i> <span>分类</span></a></li><li><a href="/archives" style="margin-left:75px"><i class="fa fas fa-archive" style="position:absolute;left:50px"></i> <span>归档</span></a></li></ul></li><li class="m-nav-item"><a href="javascript:;"><i class="fa-fw fa-solid fa-sitemap"></i> 系列<span class="m-icon"><i class="fas fa-chevron-right"></i></span></a><ul><li><a href="/categories/%E7%AE%97%E6%B3%95" style="margin-left:75px"><i class="fa fa-solid fa-rocket" style="position:absolute;left:50px"></i> <span>算法学习</span></a></li><li><a href="/categories/RocketMQ%E5%AD%A6%E4%B9%A0" style="margin-left:75px"><i class="fa fa-solid fa-rocket" style="position:absolute;left:50px"></i> <span>RMQ学习</span></a></li><li><a href="/categories/Netty%E5%AD%A6%E4%B9%A0" style="margin-left:75px"><i class="fa fa-solid fa-rocket" style="position:absolute;left:50px"></i> <span>Netty学习</span></a></li><li><a href="/categories/Spring%E6%BA%90%E7%A0%81%E5%AD%A6%E4%B9%A0" style="margin-left:75px"><i class="fa fa-solid fa-rocket" style="position:absolute;left:50px"></i> <span>Spring学习</span></a></li><li><a href="/categories/JVM%E5%AD%A6%E4%B9%A0" style="margin-left:75px"><i class="fa fa-solid fa-rocket" style="position:absolute;left:50px"></i> <span>JVM学习</span></a></li><li><a href="/categories/MySQL%E5%AD%A6%E4%B9%A0" style="margin-left:75px"><i class="fa fa-solid fa-rocket" style="position:absolute;left:50px"></i> <span>MySQL学习</span></a></li><li><a href="/categories/MyBatis%E6%BA%90%E7%A0%81%E5%AD%A6%E4%B9%A0" style="margin-left:75px"><i class="fa fa-solid fa-rocket" style="position:absolute;left:50px"></i> <span>MyBatis学习</span></a></li><li><a href="/categories/Zookeeper%E5%AD%A6%E4%B9%A0" style="margin-left:75px"><i class="fa fa-solid fa-rocket" style="position:absolute;left:50px"></i> <span>ZK学习</span></a></li><li><a href="/categories/Hexo" style="margin-left:75px"><i class="fa fa-solid fa-rocket" style="position:absolute;left:50px"></i> <span>Hexo学习</span></a></li><li><a href="/categories/Redis%E5%AD%A6%E4%B9%A0" style="margin-left:75px"><i class="fa fa-solid fa-rocket" style="position:absolute;left:50px"></i> <span>Redis学习</span></a></li><li><a href="/categories/Docker%E5%AD%A6%E4%B9%A0" style="margin-left:75px"><i class="fa fa-solid fa-rocket" style="position:absolute;left:50px"></i> <span>Docker学习</span></a></li><li><a href="/categories/AP-Calculus" style="margin-left:75px"><i class="fa fa-solid fa-rocket" style="position:absolute;left:50px"></i> <span>AP学习</span></a></li><li><a href="/categories/A-Level" style="margin-left:75px"><i class="fa fa-solid fa-rocket" style="position:absolute;left:50px"></i> <span>A-Level学习</span></a></li><li><a href="/categories/SAT" style="margin-left:75px"><i class="fa fa-solid fa-rocket" style="position:absolute;left:50px"></i> <span>SAT学习</span></a></li><li><a href="/categories/%E8%80%83%E7%A0%94" style="margin-left:75px"><i class="fa fa-solid fa-rocket" style="position:absolute;left:50px"></i> <span>考研</span></a></li><li><a href="/categories/OSSD" style="margin-left:75px"><i class="fa fa-solid fa-rocket" style="position:absolute;left:50px"></i> <span>OSSD</span></a></li><li><a href="/categories/%E9%AB%98%E8%80%83" style="margin-left:75px"><i class="fa fa-solid fa-rocket" style="position:absolute;left:50px"></i> <span>高考</span></a></li></ul></li><li class="m-nav-item"><a href="javascript:;"><i class="fa-fw fa-solid fa-place-of-worship"></i> 我的<span class="m-icon"><i class="fas fa-chevron-right"></i></span></a><ul><li><a href="/galleries" style="margin-left:75px"><i class="fa fas fa-image" style="position:absolute;left:50px"></i> <span>相册</span></a></li><li><a href="/bibi" style="margin-left:75px"><i class="fa fa-fw fa-solid fa-cloud-rain" style="position:absolute;left:50px"></i> <span>哔哔</span></a></li><li><a href="/todolist" style="margin-left:75px"><i class="fa fa-fw fa-solid fa-circle-check" style="position:absolute;left:50px"></i> <span>清单</span></a></li><li><a href="/musics" style="margin-left:75px"><i class="fa fas fa-music" style="position:absolute;left:50px"></i> <span>音乐</span></a></li></ul></li><li class="m-nav-item"><a href="javascript:;"><i class="fa-fw fa-solid fa-circle-info"></i> 更多<span class="m-icon"><i class="fas fa-chevron-right"></i></span></a><ul><li><a href="/contact" style="margin-left:75px"><i class="fa fas fa-comments" style="position:absolute;left:50px"></i> <span>留言</span></a></li><li><a href="/friends" style="margin-left:75px"><i class="fa fa-solid fa-link" style="position:absolute;left:50px"></i> <span>友链</span></a></li><li><a href="/friend-circle" style="margin-left:75px"><i class="fa fa-solid fa-rss" style="position:absolute;left:50px"></i> <span>圈圈</span></a></li><li><a href="/about" style="margin-left:75px"><i class="fa fas fa-user-circle" style="position:absolute;left:50px"></i> <span>关于</span></a></li></ul></li><li><div class="divider"></div></li><li><a href="https://github.com/blinkfox/hexo-theme-matery" class="waves-effect waves-light" target="_blank"><i class="fab fa-github-square fa-fw"></i> Fork Me</a></li></ul></div></div><style>.nav-transparent .github-corner{display:none!important}.github-corner{position:absolute;z-index:10;top:0;right:0;border:0;transform:scale(1.1)}.github-corner svg{color:#0f9d58;fill:#fff;height:64px;width:64px}.github-corner:hover .octo-arm{animation:a .56s ease-in-out}.github-corner .octo-arm{animation:none}@keyframes a{0%,to{transform:rotate(0)}20%,60%{transform:rotate(-25deg)}40%,80%{transform:rotate(10deg)}}</style><a href="https://github.com/blinkfox/hexo-theme-matery" class="github-corner tooltipped hide-on-med-and-down" target="_blank" data-tooltip="Fork Me" data-position="left" data-delay="50"><svg viewBox="0 0 250 250" aria-hidden="true"><path d="M0 0 115 115 130 115 142 142 250 250 250 0Z"></path><path d="M128.3 109C113.8 99.7 119 89.6 119 89.6 122 82.7 120.5 78.6 120.5 78.6 119.2 72 123.4 76.3 123.4 76.3 127.3 80.9 125.5 87.3 125.5 87.3 122.9 97.6 130.6 101.9 134.4 103.2" fill="currentColor" style="transform-origin:130px 106px" class="octo-arm"></path><path d="M115 115C114.9 115.1 118.7 116.5 119.8 115.4L133.7 101.6C136.9 99.2 139.9 98.4 142.2 98.6 133.8 88 127.5 74.4 143.8 58 148.5 53.4 154 51.2 159.7 51 160.3 49.4 163.2 43.6 171.4 40.1 171.4 40.1 176.1 42.5 178.8 56.2 183.1 58.6 187.2 61.8 190.9 65.4 194.5 69 197.7 73.2 200.1 77.6 213.8 80.2 216.3 84.9 216.3 84.9 212.7 93.1 206.9 96 205.4 96.6 205.1 102.4 203 107.8 198.3 112.5 181.9 128.9 168.3 122.5 157.7 114.1 157.9 116.9 156.7 120.9 152.7 124.9L141 136.5C139.8 137.7 141.6 141.9 141.8 141.8Z" fill="currentColor" class="octo-body"></path></svg></a></nav></header><script src="https://gcore.jsdelivr.net/gh/zyxelva/zyxelva.github.io@main/libs/cryptojs/crypto-js.min.js"></script><script></script><style>:root{--post-bg-image:url('https://gcore.jsdelivr.net/gh/zyxelva/zyxelva.github.io@main/medias/MySQL.jpeg')}</style><div class="bg-cover pd-header post-cover"><div class="container" style="right:0;left:0"><div class="row"><div class="col s12 m12 l12"><div class="brand"><h1 class="description center-align post-title">【MySQL学习】3.表结构设计和数据类型优化</h1></div></div></div></div></div><main class="post-container content"><div class="row"><div id="main-content" class="col s12 m12 l9"><div id="artDetail"><div class="card"><div class="card-content article-info"><div class="row tag-cate"><div class="col s7"><div class="article-tag"><a href="/tags/MySQL/"><span class="chip bg-color">MySQL</span></a> <a href="/tags/%E8%8C%83%E5%BC%8F%E4%B8%8E%E5%8F%8D%E8%8C%83%E5%BC%8F%E8%AE%BE%E8%AE%A1/"><span class="chip bg-color">范式与反范式设计</span></a></div></div><div class="col s5 right-align"><div class="post-cate"><i class="fas fa-bookmark fa-fw icon-category"></i> <a href="/categories/MySQL%E5%AD%A6%E4%B9%A0/" class="post-category">MySQL学习</a></div></div></div><div class="post-info"><div class="post-date info-break-policy"><i class="far fa-calendar-minus fa-fw"></i> 发布日期:&nbsp;&nbsp; 2023-05-31</div><div class="info-break-policy"><i class="far fa-file-word fa-fw"></i> 文章字数:&nbsp;&nbsp; 3.2k</div><div class="info-break-policy"><i class="far fa-clock fa-fw"></i> 阅读时长:&nbsp;&nbsp; 11 分</div></div></div><hr class="clearfix"><link rel="stylesheet" href="https://gcore.jsdelivr.net/gh/zyxelva/zyxelva.github.io@main/libs/prism/prism.min.css"><div class="card-content article-card-content"><div id="articleContent"><h1 id="1-表设计"><a href="#1-表设计" class="headerlink" title="1 表设计"></a>1 表设计</h1><h2 id="1-1-数据库表设计"><a href="#1-1-数据库表设计" class="headerlink" title="1.1 数据库表设计"></a>1.1 数据库表设计</h2><p>良好的表结构设计是高性能的基石，应该根据系统将要执行的业务查询来设计，这往往需要权衡各种因素。糟糕的表结构设计，会浪费大量的开发时间，严重延误项目开发周期，让人痛苦万分，而且直接影响到数据库的性能，并需要花费大量不必要的优化时间，效果往往还不怎么样。</p><blockquote><p>在数据库表设计上有个很重要的设计准则，称为<code>范式设计</code>。</p></blockquote><h3 id="1-1-1-范式设计"><a href="#1-1-1-范式设计" class="headerlink" title="1.1.1 范式设计"></a>1.1.1 范式设计</h3><p>什么是范式?<br>范式来自英文 <code>Normal Form</code>，简称<code>NF</code>。要想设计一个好的关系，必须使关系满足<code>一定的约束条件</code>，此约束已经形成了规范，分成几个等级，一级比一级要求得严格。满足这些规范的数据库是简洁的、结构明晰的，同时，不会发生插入 (insert)、删除(delete)和更新(update)操作异常。反之则是乱七八糟，不仅给数据库的编程人员制造麻烦，而且面目可憎，可能存储了大量不需要的冗余信息。</p><p>目前关系数据库有<code>六种范式</code>：</p><ul><li>第一范式(1NF)</li><li>第二范式(2NF)</li><li>第三范式(3NF)</li><li>巴斯-科德范式(BCNF)</li><li>第四范式(4NF)</li><li>第五范式(5NF，又称完美范式)。</li></ul><p>满足最低要求的范式是第一范式(1NF)。在第一范式的基础上进一步满足更多规范要求的称为第二范式(2NF)，其余范式以次类推。一般来说，数据库只需满足<code>第三范式(3NF)</code>就行了。</p><h4 id="1-1-1-1-1NF"><a href="#1-1-1-1-1NF" class="headerlink" title="1.1.1.1 1NF"></a>1.1.1.1 1NF</h4><p>定义：所有属性都不可再分，即数据项不可分。</p><p>第一范式强调数据表的<code>原子性</code>，是其他范式的基础。例如下表：</p><div class="table-container"><table><thead><tr><th>id</th><th>name-age</th></tr></thead><tbody><tr><td>1</td><td>张三-23</td></tr></tbody></table></div><p><code>name-age</code> 列具有两个属性，一个 <code>name</code>，一个 <code>age</code> ，不符合第一范式，把它拆分成两列：</p><div class="table-container"><table><thead><tr><th>id</th><th>name</th><th>age</th></tr></thead><tbody><tr><td>1</td><td>张三</td><td>23</td></tr></tbody></table></div><p>上表就符合第一范式关系。但日常生活中仅用第一范式来规范表格是远远不够的，依然会存在<code>数据冗余过大</code>、<code>删除异常</code>、<code>插入异常</code>、<code>修改异常</code>的问题，此时就需要引入<code>规范化</code>概念，将其转化为<code>更标准化</code>的表格，<code>减少数据依赖</code>。</p><h4 id="1-1-1-2-2NF"><a href="#1-1-1-2-2NF" class="headerlink" title="1.1.1.2 2NF"></a>1.1.1.2 2NF</h4><p>第二范式(2NF)是在第一范式(1NF)的基础上建立起来的，即满足第二范式(2NF)必须先满足第一范式(1NF)。</p><p>总之，2NF必须满足：</p><ul><li>必须满足<code>1NF</code>；</li><li>必须有<code>主键</code>；</li><li>非主属性必须<code>完全依赖</code>于主属性。</li></ul><blockquote><p>所谓<code>完全依赖</code>是指不能存在仅依赖主关键字一部分的属性。即不能存在部分依赖于主关键字的属性。</p></blockquote><p>比如有两张表：<code>订单表</code>，<code>产品表</code></p><div class="table-container"><table><thead><tr><th>订单表ID</th><th>订单时间</th><th>产品ID</th></tr></thead><tbody><tr><td>1</td><td>2019-01-01</td><td>3</td></tr><tr><td>1</td><td>2019-01-01</td><td>4</td></tr></tbody></table></div><div class="table-container"><table><thead><tr><th>产品表ID</th><th>产品名称</th></tr></thead><tbody><tr><td>2</td><td>娃娃</td></tr><tr><td>3</td><td>飞机</td></tr><tr><td>4</td><td>乐高911</td></tr></tbody></table></div><p>一个订单有多个产品，所以订单的主键为【订单 ID】和【产品 ID】组成的<code>联合主键</code>，这样 2 个组件不符合第二范式，而且<code>产品 ID</code> 和<code>订单 ID</code> <code>没有强关联</code>， 故，把订单表进行拆分为<code>订单表</code>与<code>订单与商品的中间表</code>。</p><div class="table-container"><table><thead><tr><th>订单表ID</th><th>订单时间</th></tr></thead><tbody><tr><td>1</td><td>2019-01-01</td></tr></tbody></table></div><div class="table-container"><table><thead><tr><th>订单与商品的中间表ID</th><th>订单ID</th><th>产品ID</th></tr></thead><tbody><tr><td>1</td><td>1</td><td>3</td></tr><tr><td>2</td><td>1</td><td>4</td></tr></tbody></table></div><div class="table-container"><table><thead><tr><th>产品表ID</th><th>产品名称</th></tr></thead><tbody><tr><td>2</td><td>娃娃</td></tr><tr><td>3</td><td>飞机</td></tr><tr><td>4</td><td>乐高911</td></tr></tbody></table></div><h4 id="1-1-1-3-3NF"><a href="#1-1-1-3-3NF" class="headerlink" title="1.1.1.3 3NF"></a>1.1.1.3 3NF</h4><p>3NF是在2NF的基础上<code>消除</code>了非主属性对主属性的<code>传递依赖</code>。即<strong>每一个非主属性既不部分依赖于也不传递依赖于业务主键</strong>。</p><div class="table-container"><table><thead><tr><th>订单表ID</th><th>订单时间</th><th>产品ID</th><th>产品名称</th></tr></thead><tbody><tr><td>1</td><td>2019-01-01</td><td>3</td><td>飞机</td></tr><tr><td>1</td><td>2019-01-01</td><td>4</td><td>乐高911</td></tr></tbody></table></div><div class="table-container"><table><thead><tr><th>产品表ID</th><th>产品名称</th></tr></thead><tbody><tr><td>2</td><td>娃娃</td></tr><tr><td>3</td><td>飞机</td></tr><tr><td>4</td><td>乐高911</td></tr></tbody></table></div><p>其中</p><ul><li><code>产品 ID</code> 与<code>订单ID</code>存在关联关系；</li><li><code>产品名称</code>与<code>订单ID</code>存在关联关系；</li><li><code>产品 ID</code> 与<code>产品名称</code>存在关联关系；</li></ul><p>如果产品 ID 发生改变，导致产品名称发生变化，这样不符合第三范式，应该把订单表中的<code>产品名称</code>这一列从订单表中删除。</p><h4 id="1-1-1-4-BCNF"><a href="#1-1-1-4-BCNF" class="headerlink" title="1.1.1.4 BCNF"></a>1.1.1.4 BCNF</h4><p>定义：第三范式（3NF）的一个子集，即满足巴斯-科德范式（BCNF）必须满足第三范式（3NF）；</p><p>符合3NF，并且，<strong>主属性不依赖于主属性</strong>。</p><h4 id="1-1-1-5-4NF"><a href="#1-1-1-5-4NF" class="headerlink" title="1.1.1.5 4NF"></a>1.1.1.5 4NF</h4><p>要求把<code>同一表内</code>的<code>多对多</code>关系<code>删除</code>。</p><h4 id="1-1-1-6-5NF"><a href="#1-1-1-6-5NF" class="headerlink" title="1.1.1.6 5NF"></a>1.1.1.6 5NF</h4><ul><li>满足<code>4NF</code></li><li>从最终结构<code>重新建立</code>原始结构</li><li>表必须可以分解为<code>较小</code>的表，除非那些表在逻辑上拥有与原始表相同的主键</li></ul><h3 id="1-1-2-反范式设计"><a href="#1-1-2-反范式设计" class="headerlink" title="1.1.2 反范式设计"></a>1.1.2 反范式设计</h3><p>定义：为了性能和读取效率得考虑而适当得对数据库设计范式得要求进行违反。允许存在<code>少量冗余</code>，换句话来说反范式化就是<strong>使用空间来换取时间</strong>。</p><p>下面是<code>范式设计</code>的商品信息表：</p><div class="table-container"><table><thead><tr><th>ID</th><th>商品名称</th><th>出版社名称</th><th>图书价格</th><th>图书表述</th><th>作者</th></tr></thead><tbody><tr><td>1</td><td>星空</td><td>现代出版社</td><td>26</td><td>有阴影的地方，必定有光。</td><td>几米</td></tr></tbody></table></div><p>分类信息：</p><div class="table-container"><table><thead><tr><th>分类名称</th><th>分类描述</th></tr></thead><tbody><tr><td>漫画</td><td>xxx</td></tr><tr><td>小说</td><td>xxxx</td></tr></tbody></table></div><p>商品-分类：</p><div class="table-container"><table><thead><tr><th>商品名称</th><th>分类名称</th></tr></thead><tbody><tr><td>星空</td><td>漫画</td></tr></tbody></table></div><p>而实际中，商品信息和分类信息经常一起查询，所以把分类信息也放到商品表里面，冗余存放。</p><div class="table-container"><table><thead><tr><th>ID</th><th>商品名称</th><th>分类名称</th><th>出版社名称</th><th>图书价格</th><th>图书表述</th><th>作者</th></tr></thead><tbody><tr><td>1</td><td>星空</td><td>漫画</td><td>现代出版社</td><td>26</td><td>有阴影的地方，必定有光。</td><td>几米</td></tr></tbody></table></div><h4 id="1-1-2-1-实际工作中的反范式实现"><a href="#1-1-2-1-实际工作中的反范式实现" class="headerlink" title="1.1.2.1 实际工作中的反范式实现"></a>1.1.2.1 实际工作中的反范式实现</h4><ul><li>缓存和汇总</li><li>计数器表</li><li>分库分表中的查询</li></ul><h3 id="1-1-3-范式化和反范式总结"><a href="#1-1-3-范式化和反范式总结" class="headerlink" title="1.1.3 范式化和反范式总结"></a>1.1.3 范式化和反范式总结</h3><table border="0" cellpadding="0" cellspacing="0" width="764" style="border-collapse:collapse;table-layout:fixed;width:573pt"><colgroup><col width="127" style="mso-width-source:userset;mso-width-alt:4053;width:95pt"><col width="457" style="mso-width-source:userset;mso-width-alt:14634;width:343pt"><col width="180" style="mso-width-source:userset;mso-width-alt:5760;width:135pt"><tr height="21" style="height:16pt"><td height="21" class="xl65" width="127" style="height:16pt;width:95pt">范式化和反范式总结</td><td class="xl66" width="457" style="width:343pt">优点</td><td class="xl66" width="180" style="width:135pt">缺点</td></tr><tr height="21" style="height:16pt"><td rowspan="4" height="84" class="xl65" style="height:64pt">范式设计</td><td class="xl65">更新操作通常比反范式化要快</td><td class="xl65">通常需要关联</td></tr><tr height="21" style="height:16pt"><td height="21" class="xl65" style="height:16pt">当数据较好地范式化时，就只有很少或者没有重复数据，所以只需要修改更少的数据</td><td class="xl65">可能索引无效</td></tr><tr height="21" style="height:16pt"><td height="21" class="xl65" style="height:16pt">范式化的表通常更小，可以更好地放在内存里，所以执行操作会更快</td><td></td></tr><tr height="21" style="height:16pt"><td height="21" class="xl65" style="height:16pt">很少有多余的数据意味着检索列表数据时更少需要DISTINCT 或者GROUP BY 语句</td><td></td></tr><tr height="21" style="height:16pt"><td rowspan="2" height="42" class="xl65" style="height:32pt">反范式设计</td><td class="xl65">减少表的关联</td><td class="xl65">存在数据冗余及数据维护异常</td></tr><tr height="21" style="height:16pt"><td height="21" class="xl65" style="height:16pt">可以更好的进行索引优化</td><td class="xl65">对数据的修改需要更多的成本</td></tr><![if supportMisalignedColumns]><tr height="0" style="display:none"><td width="127" style="width:95pt"></td><td width="457" style="width:343pt"></td><td width="180" style="width:135pt"></td></tr><![endif]></colgroup></table><h1 id="2-字段数据类型优化"><a href="#2-字段数据类型优化" class="headerlink" title="2 字段数据类型优化"></a>2 字段数据类型优化</h1><h2 id="2-1-基本原则"><a href="#2-1-基本原则" class="headerlink" title="2.1 基本原则"></a>2.1 基本原则</h2><h3 id="2-1-1-更小的通常更好"><a href="#2-1-1-更小的通常更好" class="headerlink" title="2.1.1 更小的通常更好"></a>2.1.1 更小的通常更好</h3><p>一般情况下，应该尽量使用可以正确存储数据的最小数据类型。更小的数据类型通常更快，因为它们占用<code>更少的</code>磁盘、内存和 CPU 缓存，并且处理时需要的 CPU 周期也更少。</p><h3 id="2-1-2-简单就好"><a href="#2-1-2-简单就好" class="headerlink" title="2.1.2 简单就好"></a>2.1.2 简单就好</h3><p>简单数据类型的操作通常需要<code>更少的 CPU 周期</code>。例如，整型比字符操作代价更低，因为字符集和校对规则(排序规则)使字符比较比整型比较更复杂。比如应该使用 <code>MySQL 内建的类型</code>而不是字符串来存储日期和时间。</p><h3 id="2-1-3-尽量避免NULL"><a href="#2-1-3-尽量避免NULL" class="headerlink" title="2.1.3 尽量避免NULL"></a>2.1.3 尽量避免NULL</h3><p>可为 <code>NULL</code> 是列的<code>默认属性</code>。通常情况下最好指定列为 <code>NOT NULL</code>， 除非真的需要存储 NULL 值。</p><p>如果查询中包含可为 NULL 的列，对 MySQL 来说更难优化，因为<code>可为 NULL 的列</code>使得索引、索引统计和值比较都<code>更复杂</code>。</p><p>可为 NULL 的列会使用<code>更多的存储空间</code>，在 MySQL 里也需要特殊处理。</p><p>当可为 NULL 的列被索引时，<code>每个索引记录</code>需要一个<code>额外的字节</code>。</p><p>如果计划在列上建索引，就应该尽量<code>避免</code>设计成可为 NULL 的列。</p><h2 id="2-2-类型"><a href="#2-2-类型" class="headerlink" title="2.2 类型"></a>2.2 类型</h2><h3 id="2-2-1-整型"><a href="#2-2-1-整型" class="headerlink" title="2.2.1 整型"></a>2.2.1 整型</h3><p>分为：<code>TINYINT</code>(1B)，<code>SMALLINT</code>(2B)，<code>MEDIUMINT</code>(3B)，<code>INT</code>(4B)，<code>BIGINT</code>(8B)。</p><p>可选的<code>UNSIGNED</code>，与<code>有符号数</code>具有相同的性能，使用相同的存储空间；可以使正数的<code>上限提高一倍</code>。</p><p>MySQL 可以为整数类型<code>指定宽度</code>。它不会限制值的合法范围，只是规定了MySQL 的一些交互工具（例如MySQL命令行客户端)用来<code>显示字符的个数</code>。对于存储和计算来说，<code>INT(1)</code>和<code>INT(20)</code>是相同的。</p><h3 id="2-2-2-实数型"><a href="#2-2-2-实数型" class="headerlink" title="2.2.2 实数型"></a>2.2.2 实数型</h3><ul><li>精确类型：Decimal<blockquote><p>MySQL 5.0 和更高版本将数字打包保存到一个二进制字符串中（每4 个字节存9 个数字)。 例如，DECIMAL(18,9)小数点两边将各存储9 个数字，一共使用9 个字节:小数点前的数字用4 个字节，小数点后的数字用4 个字节，小数点本身占1 个字节.</p></blockquote></li><li>不精确类型<ul><li>FLOAT</li><li>DOUBLE</li></ul></li></ul><p>浮点类型在存储<code>同样范围</code>的值时，通常比 DECIMAL 使用<code>更少的空间</code>。<code>FLOAT</code> 使用 <code>4 个字节</code>存储，<code>DOUBLE</code> 占用 <code>8 个字节</code>，所以 DOUBLE 比 FLOAT 有更高的精度和更大的范围。</p><p>因为需要额外的空间和计算开销，所以应该尽量只在<strong>对小数进行精确计算时</strong>才使用 <code>DECIMAL</code>，例如存储财务或金融数据，在<strong>精度不敏感和需要快速运算的时候</strong>，选择 <code>FLOAT</code> 和 <code>DOUBLE</code>。</p><p>但在<code>数据量比较大</code>而且<code>要求精度</code>时，可以考虑使用 <code>BIGINT</code> 代替 DECIMAL， 将需要存储的货币单位根据小数的位数乘以<code>相应的倍数</code>即可。</p><h3 id="2-2-3-字符串类型"><a href="#2-2-3-字符串类型" class="headerlink" title="2.2.3 字符串类型"></a>2.2.3 字符串类型</h3><h4 id="2-2-3-1-VARCHAR-和-CHAR-类型"><a href="#2-2-3-1-VARCHAR-和-CHAR-类型" class="headerlink" title="2.2.3.1 VARCHAR 和 CHAR 类型"></a>2.2.3.1 VARCHAR 和 CHAR 类型</h4><p><code>VARCHAR</code> 和 <code>CHAR</code> 是两种最主要的<code>字符串类型</code>。</p><ul><li><p>VARCHAR</p><ul><li>用于存储<code>可变长字符串</code>；</li><li>它比定长类型<code>更节省空间</code>，因为它仅使用<code>必要的空间</code>；</li><li>需要使用<code>1或2个额外字节</code>记录<code>字符串的长度</code>，如果列的最大长度小于或等于255 字节，则只使用1个字节表示；否则使用2 个字节；</li><li>由于行是变长的，在UPDATE 时新值比旧值长时，使行变得比原来更长，这就可能导致需要做额外的工作。</li></ul></li><li><p>CHAR</p><ul><li>定长</li><li>当<code>存储CHAR值</code>时，MySQL 会<code>删除所有的末尾空格</code>，CHAR 值会根据需要采用<code>空格</code>进行<code>填充</code>以方便比较。</li></ul></li></ul><h4 id="2-2-3-2-BLOB和TEXT"><a href="#2-2-3-2-BLOB和TEXT" class="headerlink" title="2.2.3.2 BLOB和TEXT"></a>2.2.3.2 BLOB和TEXT</h4><p><code>BLOB</code> 和 <code>TEXT</code> 类型都是为存储<code>很大的</code>数据而设计的字符串数据类型。</p><p>MySQL 把每个BLOB 和TEXT 值当作<code>一个独立的对象</code>处理。存储引擎在存储时通常会做特殊处理。当BLOB 和TEXT 值太大时，InnoDB 会使用专门的<code>“外部”</code>存储区域来进行存储，此时每个值在行内需要<code>1~4 个字节</code>存储一个指针，然后在外部存储区域存储实际的值。</p><ul><li>BLOB：<code>二进制数据</code>存储，<code>没有</code>排序规则或字符集；</li><li>TEXT：<code>字符方式</code>存储，有<code>字符集</code>和<code>排序规则</code>。</li></ul><blockquote><p>使用建议：</p><ul><li>BLOB 和TEXT 值会引起一些性能问题，所以尽量<code>避免使用</code>BLOB 和TEXT类型，一定要用，建议把BLOB 或TEXT 列<code>分离到单独的表中</code>；</li><li>在不必要的时候<code>避免</code>检索大型的BLOB 或TEXT 值；</li><li>还可以使用合成的(Synthetic)索引来提高大文本字段(BLOB 或TEXT)的查询性能。</li></ul></blockquote><h3 id="2-2-4-日期和时间类型"><a href="#2-2-4-日期和时间类型" class="headerlink" title="2.2.4 日期和时间类型"></a>2.2.4 日期和时间类型</h3><div class="table-container"><table><thead><tr><th>日期类型</th><th>占用空间</th><th>表示范围</th></tr></thead><tbody><tr><td>DATETIME</td><td>8</td><td>1000-01-01 00:00:00 ~ 9999-12-31 23:59:59</td></tr><tr><td>DATE</td><td>3</td><td>1000-01-01 ~ 9999-12-31</td></tr><tr><td>TIMESTAMP</td><td>4</td><td>1970-01-01 00:00:00UTC ~ 2038-01-19 03:14:07UTC</td></tr><tr><td>YEAR</td><td>1</td><td>YEAR(2):1970-2070, YEAR(4):1901-2155</td></tr><tr><td>TIME</td><td>3</td><td>-838:59:59 ~ 838:59:59</td></tr></tbody></table></div><h1 id="3-工程实践"><a href="#3-工程实践" class="headerlink" title="3 工程实践"></a>3 工程实践</h1><ul><li>数据库、表、字段的命名要遵守可读性原则，尽可能少使用或者不使用缩写</li><li>表名、字段名必须使用小写字母或数字，禁止出现数字开头，禁止两个下划线中间只出现数字</li><li>表名不使用复数名词</li><li>数据库、表、字段的命名禁用保留字，如desc、range、match 之类</li><li>对象的名字应该能够描述它所表示的对象</li><li>主键索引名为pk<em>字段名；唯一索引名为uk</em>字段名；普通索引名则为idx_字段名</li><li>表达是与否概念的字段，应该使用is_xxx 的方式命名，数据类型是<code>unsigned tinyint</code>（1 表示是，0 表示否）</li></ul></div><hr><div class="reprint" id="reprint-statement"><div class="reprint__author"><span class="reprint-meta" style="font-weight:700"><i class="fas fa-user">文章作者:</i></span> <span class="reprint-info"><a href="/about" rel="external nofollow noreferrer">Kezade</a></span></div><div class="reprint__type"><span class="reprint-meta" style="font-weight:700"><i class="fas fa-link">文章链接:</i></span> <span class="reprint-info"><a href="https://zyxelva.github.io/posts/3779042887.html">https://zyxelva.github.io/posts/3779042887.html</a></span></div><div class="reprint__notice"><span class="reprint-meta" style="font-weight:700"><i class="fas fa-copyright">版权声明:</i></span> <span class="reprint-info">本博客所有文章除特別声明外，均采用 <a href="https://creativecommons.org/licenses/by/4.0/deed.zh" rel="external nofollow noreferrer" target="_blank">CC BY 4.0</a> 许可协议。转载请注明来源 <a href="/about" target="_blank">Kezade</a> !</span></div></div><script async defer>function navToReprintStatement(){$("html, body").animate({scrollTop:$("#reprint-statement").offset().top-80},800)}document.addEventListener("copy",function(t){M.toast({html:'<span>复制成功，请遵循本文的转载规则</span><button class="btn-flat toast-action" onclick="navToReprintStatement()" style="font-size: smaller">查看</a>'})})</script><div class="tag_share" style="display:block"><div class="post-meta__tag-list" style="display:inline-block"><div class="article-tag"><a href="/tags/MySQL/"><span class="chip bg-color">MySQL</span></a> <a href="/tags/%E8%8C%83%E5%BC%8F%E4%B8%8E%E5%8F%8D%E8%8C%83%E5%BC%8F%E8%AE%BE%E8%AE%A1/"><span class="chip bg-color">范式与反范式设计</span></a></div></div><div class="post_share" style="zoom:80%;width:fit-content;display:inline-block;float:right;margin:-.15rem 0"><link rel="stylesheet" href="https://gcore.jsdelivr.net/gh/zyxelva/zyxelva.github.io@main/libs/share/css/share.min.css"><div id="article-share"><div class="social-share" data-sites="google,qq,qzone,wechat,weibo,douban,linkedin" data-wechat-qrcode-helper="<p>微信扫一扫即可分享！</p>"></div><script src="https://gcore.jsdelivr.net/gh/zyxelva/zyxelva.github.io@main/libs/share/js/social-share.min.js"></script></div></div></div><div id="reward"><a href="#rewardModal" class="reward-link modal-trigger btn-floating btn-medium waves-effect waves-light red">赏</a><div id="rewardModal" class="modal"><div class="modal-content"><a class="close modal-close"><i class="fas fa-times"></i></a><h4 class="reward-title">你的赏识是我前进的动力</h4><div class="reward-content"><div class="reward-tabs"><ul class="tabs row"><li class="tab col s6 alipay-tab waves-effect waves-light"><a href="#alipay">支付宝</a></li><li class="tab col s6 wechat-tab waves-effect waves-light"><a href="#wechat">微 信</a></li></ul><div id="alipay"><img src="https://gcore.jsdelivr.net/gh/zyxelva/zyxelva.github.io@main/medias/reward/alipay.jpg" class="reward-img" alt="支付宝打赏二维码"></div><div id="wechat"><img src="https://gcore.jsdelivr.net/gh/zyxelva/zyxelva.github.io@main/medias/reward/wechat.png" class="reward-img" alt="微信打赏二维码"></div></div></div></div></div></div><script>$(function(){$(".tabs").tabs()})</script></div></div><style>.twikoo-card{margin:1.5rem auto}.twikoo-card .card-content{padding:20px}#tcomments textarea{box-sizing:border-box;background:url("/") 100% 100% no-repeat}#tcomments p{margin:2px 2px 10px;font-size:1.05rem;line-height:1.78rem;text-align:left}#tcomments blockquote p{text-indent:.2rem}#tcomments a{padding:0 2px;color:#4cbf30;font-weight:500;text-decoration:none}#tcomments img{max-width:100%;height:auto;cursor:pointer}#tcomments ol li{list-style-type:decimal}#tcomments ol,ul{display:block;padding-left:2em;word-spacing:0.05rem}#tcomments ul li,ol li{display:list-item;line-height:1.8rem;font-size:1rem}#tcomments ul li{list-style-type:disc}#tcomments ul ul li{list-style-type:circle}#tcomments table,td,th{padding:12px 13px;border:1px solid #dfe2e5}#tcomments table,td,th{border:0}table tr:nth-child(2n),thead{background-color:#fafafa}#tcomments table th{background-color:#f2f2f2;min-width:80px}#tcomments table td{min-width:80px}#tcomments h1{font-size:1.85rem;font-weight:700;line-height:2.2rem}#tcomments h2{font-size:1.65rem;font-weight:700;line-height:1.9rem}#tcomments h3{font-size:1.45rem;font-weight:700;line-height:1.7rem}#tcomments h4{font-size:1.25rem;font-weight:700;line-height:1.5rem}#tcomments h5{font-size:1.1rem;font-weight:700;line-height:1.4rem}#tcomments h6{font-size:1rem;line-height:1.3rem}#tcomments p{font-size:1rem;line-height:1.5rem}#tcomments hr{margin:12px 0;border:0;border-top:1px solid #ccc}#tcomments blockquote{margin:15px 0;border-left:5px solid #42b983;padding:1rem .8rem .3rem .8rem;color:#666;background-color:rgba(66,185,131,.1)}#tcomments pre{font-family:monospace,monospace;padding:1.2em;margin:.5em 0;background:#272822;overflow:auto;border-radius:.3em;tab-size:4}#tcomments code{font-family:monospace,monospace;padding:1px 3px;font-size:.92rem;color:#e96900;background-color:#f8f8f8;border-radius:2px}#tcomments pre code{font-family:monospace,monospace;padding:0;color:#e8eaf6;background-color:#272822}#tcomments pre[class*=language-]{padding:1.2em;margin:.5em 0}#tcomments code[class*=language-],pre[class*=language-]{color:#e8eaf6}#tcomments [type=checkbox]:not(:checked),[type=checkbox]:checked{position:inherit;margin-left:-1.3rem;margin-right:.4rem;margin-top:-1px;vertical-align:middle;left:unset;visibility:visible}#tcomments b,strong{font-weight:700}#tcomments dfn{font-style:italic}#tcomments small{font-size:85%}#tcomments cite{font-style:normal}#tcomments mark{background-color:#fcf8e3;padding:.2em}#tcomments table,td,th{padding:12px 13px;border:1px solid #dfe2e5}table tr:nth-child(2n),thead{background-color:#fafafa}#tcomments table th{background-color:#f2f2f2;min-width:80px}#tcomments table td{min-width:80px}#tcomments [type=checkbox]:not(:checked),[type=checkbox]:checked{position:inherit;margin-left:-1.3rem;margin-right:.4rem;margin-top:-1px;vertical-align:middle;left:unset;visibility:visible}</style><div class="card twikoo-card" data-aos="fade-up"><div class="comment_headling" style="font-size:20px;font-weight:700;position:relative;padding-left:20px;top:15px;padding-bottom:5px"><i class="fas fa-comments fa-fw" aria-hidden="true"></i> <span>评论</span></div><div class="card-content" style="display:grid"><div id="tcomments"></div></div></div><script src="https://gcore.jsdelivr.net/npm/twikoo/dist/twikoo.all.min.js"></script><script>twikoo.init({envId:"https://kezadetwikoo.netlify.app/.netlify/functions/twikoo",el:"#tcomments",region:"",path:""}).then(function(){for(var t=document.querySelector("#twikoo").getElementsByTagName("input"),e=0;e<t.length;e++)t[e]&&t[e].classList.add("browser-default")})</script><article id="prenext-posts" class="prev-next articles"><div class="row article-row"><div class="article col s12 m6" data-aos="fade-up"><div class="article-badge left-badge text-color"><i class="fas fa-chevron-left"></i> &nbsp;上一篇</div><div class="card"><a href="/posts/82369335.html"><div class="card-image"><img src="/medias/MySQL.jpeg" class="responsive-img" alt="【MySQL学习】4.高性能索引"> <span class="card-title">【MySQL学习】4.高性能索引</span></div></a><div class="card-content article-content"><div class="summary block-with-text"></div><div class="publish-info"><span class="publish-date"><i class="far fa-clock fa-fw icon-date"></i> 2023-06-01</span><span class="publish-author"><i class="fas fa-bookmark fa-fw icon-category"></i> <a href="/categories/MySQL%E5%AD%A6%E4%B9%A0/" class="post-category">MySQL学习</a></span></div></div><div class="card-action article-tags"><a href="/tags/MySQL/"><span class="chip bg-color">MySQL</span></a> <a href="/tags/%E7%B4%A2%E5%BC%95/"><span class="chip bg-color">索引</span></a></div></div></div><div class="article col s12 m6" data-aos="fade-up"><div class="article-badge right-badge text-color">下一篇&nbsp;<i class="fas fa-chevron-right"></i></div><div class="card"><a href="/posts/3595218620.html"><div class="card-image"><img src="/medias/LeetCode.jpg" class="responsive-img" alt="【LeetCode】643.子数组最大平均数I"> <span class="card-title">【LeetCode】643.子数组最大平均数I</span></div></a><div class="card-content article-content"><div class="summary block-with-text"></div><div class="publish-info"><span class="publish-date"><i class="far fa-clock fa-fw icon-date"></i> 2023-05-30</span><span class="publish-author"><i class="fas fa-bookmark fa-fw icon-category"></i> <a href="/categories/%E7%AE%97%E6%B3%95/" class="post-category">算法</a></span></div></div><div class="card-action article-tags"><a href="/tags/LeetCode/"><span class="chip bg-color">LeetCode</span></a> <a href="/tags/%E7%AE%97%E6%B3%95/"><span class="chip bg-color">算法</span></a> <a href="/tags/%E6%BB%91%E5%8A%A8%E7%AA%97%E5%8F%A3/"><span class="chip bg-color">滑动窗口</span></a></div></div></div></div></article></div><script>$("#articleContent").on("copy",function(e){if(void 0!==window.getSelection){var n=window.getSelection();if(!((""+n).length<Number.parseInt("120"))){var t=document.getElementsByTagName("body")[0],o=document.createElement("div");o.style.position="absolute",o.style.left="-99999px",t.appendChild(o),o.appendChild(n.getRangeAt(0).cloneContents()),"PRE"!==n.getRangeAt(0).commonAncestorContainer.nodeName&&"CODE"!==n.getRangeAt(0).commonAncestorContainer.nodeName||(o.innerHTML="<pre>"+o.innerHTML+"</pre>");var i=document.location.href;o.innerHTML+='<br />来源: Kezade<br />文章作者: Kezade<br />文章链接: <a href="'+i+'">'+i+"</a><br />本文章著作权归作者所有，任何形式的转载都请注明出处。",n.selectAllChildren(o),window.setTimeout(function(){t.removeChild(o)},200)}}})</script><script src="https://gcore.jsdelivr.net/gh/zyxelva/zyxelva.github.io@main/libs/codeBlock/codeBlockFuction.js"></script><script src="https://gcore.jsdelivr.net/gh/zyxelva/zyxelva.github.io@main/libs/prism/prism.min.js"></script><script src="https://gcore.jsdelivr.net/gh/zyxelva/zyxelva.github.io@main/libs/codeBlock/codeLang.js"></script><script src="https://gcore.jsdelivr.net/gh/zyxelva/zyxelva.github.io@main/libs/codeBlock/codeCopy.js"></script><script src="https://gcore.jsdelivr.net/gh/zyxelva/zyxelva.github.io@main/libs/codeBlock/codeShrink.js"></script></div><div id="toc-aside" class="expanded col l3 hide-on-med-and-down"><div class="toc-widget card" style="background-color:#fff"><div class="toc-title"><i class="far fa-list-alt"></i>&nbsp;&nbsp;目录</div><div id="toc-content"></div></div></div></div><div id="floating-toc-btn" class="hide-on-med-and-down"><a class="btn-floating btn-large bg-color"><i class="fas fa-list-ul"></i></a></div><script src="https://gcore.jsdelivr.net/gh/zyxelva/zyxelva.github.io@main/libs/tocbot/tocbot.min.js"></script><script>$(function(){tocbot.init({tocSelector:"#toc-content",contentSelector:"#articleContent",headingsOffset:-(.4*$(window).height()-45),collapseDepth:Number("0"),headingSelector:"h1, h2, h3, h4, h5"});let t=parseInt(.4*$(window).height()-64),e=$(".toc-widget");$(window).scroll(function(){$(window).scrollTop()>t?e.addClass("toc-fixed"):e.removeClass("toc-fixed")});const o="expanded";let n=$("#toc-aside"),i=$("#main-content");$("#floating-toc-btn .btn-floating").click(function(){n.hasClass(o)?(n.removeClass(o).hide(),i.removeClass("l9")):(n.addClass(o).show(),i.addClass("l9")),function(t,e){let o=$("#"+t);if(0===o.length)return;let n=o.width();n+=n>=450?21:n>=350&&n<450?18:n>=300&&n<350?16:14,$("#"+e).width(n)}("artDetail","prenext-posts")})})</script></main><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><script>MathJax.Hub.Config({tex2jax:{inlineMath:[["$","$"],["\\(","\\)"]]}})</script><footer class="page-footer bg-color"><div class="container row center-align" style="margin-bottom:15px!important"><div class="col s12 m8 l8 copy-right">Copyright&nbsp;&copy; <span id="year">2019-2025</span> <a href="/about" target="_blank">Kezade</a> |&nbsp;Powered by&nbsp;<a href="https://hexo.io/" target="_blank">Hexo</a> |&nbsp;Theme&nbsp;<a href="https://github.com/blinkfox/hexo-theme-matery" target="_blank">Matery</a><br><br><span id="sitetime">Loading ...</span><script>var calcSiteTime=function(){var e=6e4,t=36e5,n=864e5,a=365*n,i=new Date,r="2019",o=i.getFullYear(),s=i.getMonth()+1,l=i.getDate(),m=i.getHours(),c=i.getMinutes(),d=i.getSeconds(),g=Date.UTC(r,"6","28","0","0","0"),h=Date.UTC(o,s,l,m,c,d)-g,u=Math.floor(h/a),M=Math.floor(h/n-365*u),T=Math.floor((h-(365*u+M)*n)/t),f=Math.floor((h-(365*u+M)*n-T*t)/e),y=Math.floor((h-(365*u+M)*n-T*t-f*e)/1e3);if(r===String(o)){document.getElementById("year").innerHTML=o;var v="This site has been running for "+M+" days";v="本站已运行 "+M+" 天",document.getElementById("sitetime").innerHTML=v}else{document.getElementById("year").innerHTML=r+" - "+o;var H="This site has been running for "+u+" years and "+M+" days "+T+" hours "+f+" mins "+y+" seconds";H="本站已苟且偷生 "+u+" 年 "+M+" 天 "+T+" 小时 "+f+" 分钟 "+y+" 秒",document.getElementById("sitetime").innerHTML=H}};calcSiteTime(),setInterval(calcSiteTime,1e3)</script><br></div><div class="col s12 m4 l4 social-link"><a href="https://github.com/zyxelva" class="tooltipped" target="_blank" data-tooltip="访问我的GitHub" data-position="top" data-delay="50"><i class="fab fa-github"></i></a><a href="mailto:zyxelva@gmail.com" class="tooltipped" target="_blank" data-tooltip="邮件联系我" data-position="top" data-delay="50"><i class="fas fa-envelope-open"></i></a><a href="tencent://AddContact/?fromId=50&fromSubId=1&subcmd=all&uin=1807401971" class="tooltipped" target="_blank" data-tooltip="QQ联系我: 1807401971" data-position="top" data-delay="50"><i class="fab fa-qq"></i></a> <a href="https://www.zhihu.com/people/kezade" class="tooltipped" target="_blank" data-tooltip="关注我的知乎: https://www.zhihu.com/people/kezade" data-position="top" data-delay="50"><i class="fab fa-zhihu1">知</i></a><a href="../rss2.xml" class="tooltipped" target="_blank" data-tooltip="RSS 订阅" data-position="top" data-delay="50"><i class="fas fa-rss"></i></a></div></div></footer><div class="progress-bar"></div><div id="searchModal" class="modal"><div class="modal-content"><div class="search-header"><span class="title"><i class="fas fa-search"></i> &nbsp;&nbsp;搜索</span> <input type="search" id="searchInput" name="s" placeholder="请输入搜索的关键字" class="search-input"></div><div id="searchResult"></div></div></div><script>$(function(){!function(t,e,r){"use strict";$.ajax({url:t,dataType:"xml",success:function(t){var n=$("entry",t).map(function(){return{title:$("title",this).text(),content:$("content",this).text(),url:$("url",this).text()}}).get(),a=document.getElementById(e),s=document.getElementById(r);a.addEventListener("input",function(){var t='<ul class="search-result-list">',e=this.value.trim().toLowerCase().split(/[\s\-]+/);s.innerHTML="",this.value.trim().length<=0||(n.forEach(function(r){var n=!0,a=r.title.trim().toLowerCase(),s=r.content.trim().replace(/<[^>]+>/g,"").toLowerCase(),i=r.url;i=0===i.indexOf("/")?r.url:"/"+i;var l=-1,c=-1,u=-1;if(""!==a&&""!==s&&e.forEach(function(t,e){l=a.indexOf(t),c=s.indexOf(t),l<0&&c<0?n=!1:(c<0&&(c=0),0===e&&(u=c))}),n){t+="<li><a href='"+i+"' class='search-result-title'>"+a+"</a>";var o=r.content.trim().replace(/<[^>]+>/g,"");if(u>=0){var h=u-20,f=u+80;h<0&&(h=0),0===h&&(f=100),f>o.length&&(f=o.length);var m=o.substr(h,f);e.forEach(function(t){var e=new RegExp(t,"gi");m=m.replace(e,'<em class="search-keyword">'+t+"</em>")}),t+='<p class="search-result">'+m+"...</p>"}t+="</li>"}}),t+="</ul>",s.innerHTML=t)})}})}("/search.xml","searchInput","searchResult")})</script><div class="stars-con"><div id="stars"></div><div id="stars2"></div><div id="stars3"></div></div><script>function switchNightMode(){$('<div class="Cuteen_DarkSky"><div class="Cuteen_DarkPlanet"></div></div>').appendTo($("body")),setTimeout(function(){$("body").hasClass("DarkMode")?($("body").removeClass("DarkMode"),localStorage.setItem("isDark","0"),$("#sum-moon-icon").removeClass("fa-sun").addClass("fa-moon")):($("body").addClass("DarkMode"),localStorage.setItem("isDark","1"),$("#sum-moon-icon").addClass("fa-sun").removeClass("fa-moon")),setTimeout(function(){$(".Cuteen_DarkSky").fadeOut(1e3,function(){$(this).remove()})},2e3)})}</script><div id="backTop" class="top-scroll"><a class="btn-floating btn-large waves-effect waves-light" href="#!"><i class="fas fa-arrow-up"></i></a></div><script src="https://gcore.jsdelivr.net/gh/zyxelva/zyxelva.github.io@main/libs/materialize/materialize.min.js"></script><script src="https://gcore.jsdelivr.net/gh/zyxelva/zyxelva.github.io@main/libs/masonry/masonry.pkgd.min.js"></script><script src="https://gcore.jsdelivr.net/gh/zyxelva/zyxelva.github.io@main/libs/aos/aos.js"></script><script src="https://gcore.jsdelivr.net/gh/zyxelva/zyxelva.github.io@main/libs/scrollprogress/scrollProgress.min.js"></script><script src="https://gcore.jsdelivr.net/gh/zyxelva/zyxelva.github.io@main/libs/lightGallery/js/lightgallery-all.min.js"></script><script src="https://gcore.jsdelivr.net/gh/zyxelva/zyxelva.github.io@main/js/matery.js"></script><link rel="stylesheet" href="https://gcore.jsdelivr.net/gh/zyxelva/zyxelva.github.io@main/libs/mermaid/mermaid.min.css"><script src="https://gcore.jsdelivr.net/gh/zyxelva/zyxelva.github.io@main/libs/mermaid/mermaid.min.js"></script><script>window.mermaid&&mermaid.initialize({theme:"forest"})</script><script>!function(){var t=document.createElement("script"),e=window.location.protocol.split(":")[0];t.src="https"===e?"https://zz.bdstatic.com/linksubmit/push.js":"http://push.zhanzhang.baidu.com/push.js";var s=document.getElementsByTagName("script")[0];s.parentNode.insertBefore(t,s)}()</script><script src="https://gcore.jsdelivr.net/gh/zyxelva/zyxelva.github.io@main/libs/background/ribbon-dynamic.js" async></script><script src="https://gcore.jsdelivr.net/gh/zyxelva/zyxelva.github.io@main/libs/instantpage/instantpage.js" type="module"></script></body></html>