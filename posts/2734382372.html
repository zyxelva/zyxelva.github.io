<!DOCTYPE HTML><html lang="zh-CN"><head><meta charset="utf-8"><meta name="keywords" content="【Docker学习】6.Docker Compose基础, Back-End Dev Java"><meta name="description" content="一、什么是 Docker Compose？Docker Compose是一个用于定义和运行多容器Docker应用的工具。它通过一个YAML配置文件来集中管理应用程序的相关配置服务，然后使用命令行工具创建并启动这些服务。Docker Comp"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no"><meta name="renderer" content="webkit|ie-stand|ie-comp"><meta name="mobile-web-app-capable" content="yes"><meta name="format-detection" content="telephone=no"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black-translucent"><meta name="referrer" content="no-referrer-when-downgrade"><title>【Docker学习】6.Docker Compose基础 | Kezade</title><link rel="icon" type="image/jpeg" href="https://gcore.jsdelivr.net/gh/zyxelva/zyxelva.github.io@main/medias/avatar/avatar2.jpg"><style>body{background-image:url(https://it-ark-dev.oss-cn-shenzhen.aliyuncs.com/464e9ac7a5a729ae67f91f7cf0cf6fe2.jpg);background-repeat:no-repeat;background-attachment:fixed;background-size:cover;background-position:center center}</style><link rel="stylesheet" href="https://gcore.jsdelivr.net/gh/zyxelva/zyxelva.github.io@main/libs/awesome/css/all.min.css"><link rel="stylesheet" href="https://gcore.jsdelivr.net/gh/zyxelva/zyxelva.github.io@main/libs/materialize/materialize.min.css"><link rel="stylesheet" href="https://gcore.jsdelivr.net/gh/zyxelva/zyxelva.github.io@main/libs/aos/aos.css"><link rel="stylesheet" href="https://gcore.jsdelivr.net/gh/zyxelva/zyxelva.github.io@main/libs/animate/animate.min.css"><link rel="stylesheet" href="https://gcore.jsdelivr.net/gh/zyxelva/zyxelva.github.io@main/libs/lightGallery/css/lightgallery.min.css"><link rel="stylesheet" href="https://gcore.jsdelivr.net/gh/zyxelva/picgo@v3.1/css/matery.css?v3"><link rel="stylesheet" href="https://gcore.jsdelivr.net/gh/zyxelva/zyxelva.github.io@main/css/my.css"><link rel="stylesheet" href="https://gcore.jsdelivr.net/gh/zyxelva/zyxelva.github.io@main/css/dark.css" media="none" onload='"all"!=media&&(media="all")'><link rel="stylesheet" href="https://gcore.jsdelivr.net/gh/zyxelva/zyxelva.github.io@main/libs/tocbot/tocbot.css"><link rel="stylesheet" href="https://gcore.jsdelivr.net/gh/zyxelva/zyxelva.github.io@main/css/post.css"><link rel="stylesheet" href="https://gcore.jsdelivr.net/gh/zyxelva/zyxelva.github.io@main/css/reward.css"><script src="https://gcore.jsdelivr.net/gh/zyxelva/zyxelva.github.io@main/libs/jquery/jquery-3.6.0.min.js"></script><script src="https://gcore.jsdelivr.net/gh/zyxelva/picgo@v3.3/js/function.js?v88"></script><script src="https://gcore.jsdelivr.net/gh/zyxelva/picgo@v1.3/js/imgStatus.min.js"></script><script src="https://gcore.jsdelivr.net/gh/zyxelva/picgo@v1.3/js/waterfall.min.js"></script><script src="https://gcore.jsdelivr.net/gh/zyxelva/picgo@v1.3/js/lately.min.js"></script><script>var memos={host:"https://s.dusays.com/",limit:"10",creatorId:"49",username:"zyxelva",name:"Kezade",domId:"#memos",path:"api/v1/memo"},douban={api:"https://douban-api.edui.fun/"}</script><meta name="generator" content="Hexo 6.3.0"><link rel="alternate" href="/rss2.xml" title="Kezade" type="application/rss+xml"></head><body><header class="navbar-fixed"><nav id="headNav" class="bg-color nav-transparent"><div id="navContainer" class="nav-wrapper container"><div class="brand-logo"><a href="/" class="waves-effect waves-light"><img src="https://gcore.jsdelivr.net/gh/zyxelva/zyxelva.github.io@main/medias/avatar/avatar2.jpg" class="logo-img k-avatar" alt="LOGO"> <span class="logo-span">Kezade</span></a></div><a href="#" data-target="mobile-nav" class="sidenav-trigger button-collapse"><i class="fas fa-bars"></i></a><ul class="right nav-menu"><li class="hide-on-med-and-down nav-item"><a href="/" class="waves-effect waves-light"><i class="fas fa-home" style="zoom:0.6"></i> <span>首页</span></a></li><li class="hide-on-med-and-down nav-item"><a href="" class="waves-effect waves-light"><i class="fa-solid fa-newspaper" style="zoom:0.6"></i> <span>文章</span><i class="fas fa-chevron-down" aria-hidden="true" style="zoom:0.6"></i></a><ul class="sub-nav menus_item_child"><li><a href="/tags"><i class="fas fa-tags" style="margin-top:-20px;zoom:0.6"></i> <span>标签</span></a></li><li><a href="/categories"><i class="fas fa-bookmark" style="margin-top:-20px;zoom:0.6"></i> <span>分类</span></a></li><li><a href="/archives"><i class="fas fa-archive" style="margin-top:-20px;zoom:0.6"></i> <span>归档</span></a></li></ul></li><li class="hide-on-med-and-down nav-item"><a href="" class="waves-effect waves-light"><i class="fa-solid fa-sitemap" style="zoom:0.6"></i> <span>系列</span><i class="fas fa-chevron-down" aria-hidden="true" style="zoom:0.6"></i></a><ul class="sub-nav menus_item_child"><li><a href="/categories/%E7%AE%97%E6%B3%95"><i class="fa-solid fa-rocket" style="margin-top:-20px;zoom:0.6"></i> <span>算法学习</span></a></li><li><a href="/categories/RocketMQ%E5%AD%A6%E4%B9%A0"><i class="fa-solid fa-rocket" style="margin-top:-20px;zoom:0.6"></i> <span>RMQ学习</span></a></li><li><a href="/categories/Netty%E5%AD%A6%E4%B9%A0"><i class="fa-solid fa-rocket" style="margin-top:-20px;zoom:0.6"></i> <span>Netty学习</span></a></li><li><a href="/categories/Spring%E6%BA%90%E7%A0%81%E5%AD%A6%E4%B9%A0"><i class="fa-solid fa-rocket" style="margin-top:-20px;zoom:0.6"></i> <span>Spring学习</span></a></li><li><a href="/categories/JVM%E5%AD%A6%E4%B9%A0"><i class="fa-solid fa-rocket" style="margin-top:-20px;zoom:0.6"></i> <span>JVM学习</span></a></li><li><a href="/categories/MySQL%E5%AD%A6%E4%B9%A0"><i class="fa-solid fa-rocket" style="margin-top:-20px;zoom:0.6"></i> <span>MySQL学习</span></a></li><li><a href="/categories/MyBatis%E6%BA%90%E7%A0%81%E5%AD%A6%E4%B9%A0"><i class="fa-solid fa-rocket" style="margin-top:-20px;zoom:0.6"></i> <span>MyBatis学习</span></a></li><li><a href="/categories/Zookeeper%E5%AD%A6%E4%B9%A0"><i class="fa-solid fa-rocket" style="margin-top:-20px;zoom:0.6"></i> <span>ZK学习</span></a></li><li><a href="/categories/Hexo"><i class="fa-solid fa-rocket" style="margin-top:-20px;zoom:0.6"></i> <span>Hexo学习</span></a></li><li><a href="/categories/Redis%E5%AD%A6%E4%B9%A0"><i class="fa-solid fa-rocket" style="margin-top:-20px;zoom:0.6"></i> <span>Redis学习</span></a></li><li><a href="/categories/Docker%E5%AD%A6%E4%B9%A0"><i class="fa-solid fa-rocket" style="margin-top:-20px;zoom:0.6"></i> <span>Docker学习</span></a></li><li><a href="/categories/AP-Calculus"><i class="fa-solid fa-rocket" style="margin-top:-20px;zoom:0.6"></i> <span>AP学习</span></a></li><li><a href="/categories/A-Level"><i class="fa-solid fa-rocket" style="margin-top:-20px;zoom:0.6"></i> <span>A-Level学习</span></a></li><li><a href="/categories/SAT"><i class="fa-solid fa-rocket" style="margin-top:-20px;zoom:0.6"></i> <span>SAT学习</span></a></li><li><a href="/categories/%E8%80%83%E7%A0%94"><i class="fa-solid fa-rocket" style="margin-top:-20px;zoom:0.6"></i> <span>考研</span></a></li><li><a href="/categories/OSSD"><i class="fa-solid fa-rocket" style="margin-top:-20px;zoom:0.6"></i> <span>OSSD</span></a></li><li><a href="/categories/%E9%AB%98%E8%80%83"><i class="fa-solid fa-rocket" style="margin-top:-20px;zoom:0.6"></i> <span>高考</span></a></li></ul></li><li class="hide-on-med-and-down nav-item"><a href="" class="waves-effect waves-light"><i class="fa-solid fa-place-of-worship" style="zoom:0.6"></i> <span>我的</span><i class="fas fa-chevron-down" aria-hidden="true" style="zoom:0.6"></i></a><ul class="sub-nav menus_item_child"><li><a href="/galleries"><i class="fas fa-image" style="margin-top:-20px;zoom:0.6"></i> <span>相册</span></a></li><li><a href="/bibi"><i class="fa-fw fa-solid fa-cloud-rain" style="margin-top:-20px;zoom:0.6"></i> <span>哔哔</span></a></li><li><a href="/todolist"><i class="fa-fw fa-solid fa-circle-check" style="margin-top:-20px;zoom:0.6"></i> <span>清单</span></a></li><li><a href="/musics"><i class="fas fa-music" style="margin-top:-20px;zoom:0.6"></i> <span>音乐</span></a></li></ul></li><li class="hide-on-med-and-down nav-item"><a href="" class="waves-effect waves-light"><i class="fa-solid fa-circle-info" style="zoom:0.6"></i> <span>更多</span><i class="fas fa-chevron-down" aria-hidden="true" style="zoom:0.6"></i></a><ul class="sub-nav menus_item_child"><li><a href="/contact"><i class="fas fa-comments" style="margin-top:-20px;zoom:0.6"></i> <span>留言</span></a></li><li><a href="/friends"><i class="fa-solid fa-link" style="margin-top:-20px;zoom:0.6"></i> <span>友链</span></a></li><li><a href="/friend-circle"><i class="fa-solid fa-rss" style="margin-top:-20px;zoom:0.6"></i> <span>圈圈</span></a></li><li><a href="/about"><i class="fas fa-user-circle" style="margin-top:-20px;zoom:0.6"></i> <span>关于</span></a></li></ul></li><li><a href="#searchModal" class="modal-trigger waves-effect waves-light"><i id="searchIcon" class="fas fa-search" title="搜索" style="zoom:0.85"></i></a></li><li><a href="javascript:;" class="waves-effect waves-light" onclick="switchNightMode()" title="深色/浅色模式"><i id="sum-moon-icon" class="fas fa-sun" style="zoom:0.85"></i></a></li></ul><div id="mobile-nav" class="side-nav sidenav"><div class="mobile-head bg-color"><img src="https://gcore.jsdelivr.net/gh/zyxelva/zyxelva.github.io@main/medias/avatar/avatar2.jpg" class="logo-img circle responsive-img"><div class="logo-name">Kezade</div><div class="logo-desc">7 年 Java 开发经验，其中 3 年以上大型系统架构设计经验，以及 2 年以上的团队管理经验 | 具有分布式、高并发、高可用、大数据量的系统架构设计以及研发经验 | 对 Zookeeper、Netty、Dubbo、Spring Cloud、 Spring 等开源框架源码有过深入研究，并且有一定的框架定制开发经验</div></div><ul class="menu-list mobile-menu-list"><li class="m-nav-item"><a href="/" class="waves-effect waves-light"><i class="fa-fw fas fa-home"></i> 首页</a></li><li class="m-nav-item"><a href="javascript:;"><i class="fa-fw fa-solid fa-newspaper"></i> 文章<span class="m-icon"><i class="fas fa-chevron-right"></i></span></a><ul><li><a href="/tags" style="margin-left:75px"><i class="fa fas fa-tags" style="position:absolute;left:50px"></i> <span>标签</span></a></li><li><a href="/categories" style="margin-left:75px"><i class="fa fas fa-bookmark" style="position:absolute;left:50px"></i> <span>分类</span></a></li><li><a href="/archives" style="margin-left:75px"><i class="fa fas fa-archive" style="position:absolute;left:50px"></i> <span>归档</span></a></li></ul></li><li class="m-nav-item"><a href="javascript:;"><i class="fa-fw fa-solid fa-sitemap"></i> 系列<span class="m-icon"><i class="fas fa-chevron-right"></i></span></a><ul><li><a href="/categories/%E7%AE%97%E6%B3%95" style="margin-left:75px"><i class="fa fa-solid fa-rocket" style="position:absolute;left:50px"></i> <span>算法学习</span></a></li><li><a href="/categories/RocketMQ%E5%AD%A6%E4%B9%A0" style="margin-left:75px"><i class="fa fa-solid fa-rocket" style="position:absolute;left:50px"></i> <span>RMQ学习</span></a></li><li><a href="/categories/Netty%E5%AD%A6%E4%B9%A0" style="margin-left:75px"><i class="fa fa-solid fa-rocket" style="position:absolute;left:50px"></i> <span>Netty学习</span></a></li><li><a href="/categories/Spring%E6%BA%90%E7%A0%81%E5%AD%A6%E4%B9%A0" style="margin-left:75px"><i class="fa fa-solid fa-rocket" style="position:absolute;left:50px"></i> <span>Spring学习</span></a></li><li><a href="/categories/JVM%E5%AD%A6%E4%B9%A0" style="margin-left:75px"><i class="fa fa-solid fa-rocket" style="position:absolute;left:50px"></i> <span>JVM学习</span></a></li><li><a href="/categories/MySQL%E5%AD%A6%E4%B9%A0" style="margin-left:75px"><i class="fa fa-solid fa-rocket" style="position:absolute;left:50px"></i> <span>MySQL学习</span></a></li><li><a href="/categories/MyBatis%E6%BA%90%E7%A0%81%E5%AD%A6%E4%B9%A0" style="margin-left:75px"><i class="fa fa-solid fa-rocket" style="position:absolute;left:50px"></i> <span>MyBatis学习</span></a></li><li><a href="/categories/Zookeeper%E5%AD%A6%E4%B9%A0" style="margin-left:75px"><i class="fa fa-solid fa-rocket" style="position:absolute;left:50px"></i> <span>ZK学习</span></a></li><li><a href="/categories/Hexo" style="margin-left:75px"><i class="fa fa-solid fa-rocket" style="position:absolute;left:50px"></i> <span>Hexo学习</span></a></li><li><a href="/categories/Redis%E5%AD%A6%E4%B9%A0" style="margin-left:75px"><i class="fa fa-solid fa-rocket" style="position:absolute;left:50px"></i> <span>Redis学习</span></a></li><li><a href="/categories/Docker%E5%AD%A6%E4%B9%A0" style="margin-left:75px"><i class="fa fa-solid fa-rocket" style="position:absolute;left:50px"></i> <span>Docker学习</span></a></li><li><a href="/categories/AP-Calculus" style="margin-left:75px"><i class="fa fa-solid fa-rocket" style="position:absolute;left:50px"></i> <span>AP学习</span></a></li><li><a href="/categories/A-Level" style="margin-left:75px"><i class="fa fa-solid fa-rocket" style="position:absolute;left:50px"></i> <span>A-Level学习</span></a></li><li><a href="/categories/SAT" style="margin-left:75px"><i class="fa fa-solid fa-rocket" style="position:absolute;left:50px"></i> <span>SAT学习</span></a></li><li><a href="/categories/%E8%80%83%E7%A0%94" style="margin-left:75px"><i class="fa fa-solid fa-rocket" style="position:absolute;left:50px"></i> <span>考研</span></a></li><li><a href="/categories/OSSD" style="margin-left:75px"><i class="fa fa-solid fa-rocket" style="position:absolute;left:50px"></i> <span>OSSD</span></a></li><li><a href="/categories/%E9%AB%98%E8%80%83" style="margin-left:75px"><i class="fa fa-solid fa-rocket" style="position:absolute;left:50px"></i> <span>高考</span></a></li></ul></li><li class="m-nav-item"><a href="javascript:;"><i class="fa-fw fa-solid fa-place-of-worship"></i> 我的<span class="m-icon"><i class="fas fa-chevron-right"></i></span></a><ul><li><a href="/galleries" style="margin-left:75px"><i class="fa fas fa-image" style="position:absolute;left:50px"></i> <span>相册</span></a></li><li><a href="/bibi" style="margin-left:75px"><i class="fa fa-fw fa-solid fa-cloud-rain" style="position:absolute;left:50px"></i> <span>哔哔</span></a></li><li><a href="/todolist" style="margin-left:75px"><i class="fa fa-fw fa-solid fa-circle-check" style="position:absolute;left:50px"></i> <span>清单</span></a></li><li><a href="/musics" style="margin-left:75px"><i class="fa fas fa-music" style="position:absolute;left:50px"></i> <span>音乐</span></a></li></ul></li><li class="m-nav-item"><a href="javascript:;"><i class="fa-fw fa-solid fa-circle-info"></i> 更多<span class="m-icon"><i class="fas fa-chevron-right"></i></span></a><ul><li><a href="/contact" style="margin-left:75px"><i class="fa fas fa-comments" style="position:absolute;left:50px"></i> <span>留言</span></a></li><li><a href="/friends" style="margin-left:75px"><i class="fa fa-solid fa-link" style="position:absolute;left:50px"></i> <span>友链</span></a></li><li><a href="/friend-circle" style="margin-left:75px"><i class="fa fa-solid fa-rss" style="position:absolute;left:50px"></i> <span>圈圈</span></a></li><li><a href="/about" style="margin-left:75px"><i class="fa fas fa-user-circle" style="position:absolute;left:50px"></i> <span>关于</span></a></li></ul></li><li><div class="divider"></div></li><li><a href="https://github.com/blinkfox/hexo-theme-matery" class="waves-effect waves-light" target="_blank"><i class="fab fa-github-square fa-fw"></i> Fork Me</a></li></ul></div></div><style>.nav-transparent .github-corner{display:none!important}.github-corner{position:absolute;z-index:10;top:0;right:0;border:0;transform:scale(1.1)}.github-corner svg{color:#0f9d58;fill:#fff;height:64px;width:64px}.github-corner:hover .octo-arm{animation:a .56s ease-in-out}.github-corner .octo-arm{animation:none}@keyframes a{0%,to{transform:rotate(0)}20%,60%{transform:rotate(-25deg)}40%,80%{transform:rotate(10deg)}}</style><a href="https://github.com/blinkfox/hexo-theme-matery" class="github-corner tooltipped hide-on-med-and-down" target="_blank" data-tooltip="Fork Me" data-position="left" data-delay="50"><svg viewBox="0 0 250 250" aria-hidden="true"><path d="M0 0 115 115 130 115 142 142 250 250 250 0Z"></path><path d="M128.3 109C113.8 99.7 119 89.6 119 89.6 122 82.7 120.5 78.6 120.5 78.6 119.2 72 123.4 76.3 123.4 76.3 127.3 80.9 125.5 87.3 125.5 87.3 122.9 97.6 130.6 101.9 134.4 103.2" fill="currentColor" style="transform-origin:130px 106px" class="octo-arm"></path><path d="M115 115C114.9 115.1 118.7 116.5 119.8 115.4L133.7 101.6C136.9 99.2 139.9 98.4 142.2 98.6 133.8 88 127.5 74.4 143.8 58 148.5 53.4 154 51.2 159.7 51 160.3 49.4 163.2 43.6 171.4 40.1 171.4 40.1 176.1 42.5 178.8 56.2 183.1 58.6 187.2 61.8 190.9 65.4 194.5 69 197.7 73.2 200.1 77.6 213.8 80.2 216.3 84.9 216.3 84.9 212.7 93.1 206.9 96 205.4 96.6 205.1 102.4 203 107.8 198.3 112.5 181.9 128.9 168.3 122.5 157.7 114.1 157.9 116.9 156.7 120.9 152.7 124.9L141 136.5C139.8 137.7 141.6 141.9 141.8 141.8Z" fill="currentColor" class="octo-body"></path></svg></a></nav></header><script src="https://gcore.jsdelivr.net/gh/zyxelva/zyxelva.github.io@main/libs/cryptojs/crypto-js.min.js"></script><script></script><style>:root{--post-bg-image:url('https://gcore.jsdelivr.net/gh/zyxelva/zyxelva.github.io@main/medias/featureimages/17.jpg')}</style><div class="bg-cover pd-header post-cover"><div class="container" style="right:0;left:0"><div class="row"><div class="col s12 m12 l12"><div class="brand"><h1 class="description center-align post-title">【Docker学习】6.Docker Compose基础</h1></div></div></div></div></div><main class="post-container content"><div class="row"><div id="main-content" class="col s12 m12 l9"><div id="artDetail"><div class="card"><div class="card-content article-info"><div class="row tag-cate"><div class="col s7"><div class="article-tag"><a href="/tags/Docker/"><span class="chip bg-color">Docker</span></a> <a href="/tags/Docker-Compose/"><span class="chip bg-color">Docker Compose</span></a></div></div><div class="col s5 right-align"><div class="post-cate"><i class="fas fa-bookmark fa-fw icon-category"></i> <a href="/categories/Docker%E5%AD%A6%E4%B9%A0/" class="post-category">Docker学习</a></div></div></div><div class="post-info"><div class="post-date info-break-policy"><i class="far fa-calendar-minus fa-fw"></i> 发布日期:&nbsp;&nbsp; 2024-07-24</div><div class="info-break-policy"><i class="far fa-file-word fa-fw"></i> 文章字数:&nbsp;&nbsp; 7.2k</div><div class="info-break-policy"><i class="far fa-clock fa-fw"></i> 阅读时长:&nbsp;&nbsp; 26 分</div></div></div><hr class="clearfix"><link rel="stylesheet" href="https://gcore.jsdelivr.net/gh/zyxelva/zyxelva.github.io@main/libs/prism/prism.min.css"><div class="card-content article-card-content"><div id="articleContent"><h1 id="一、什么是-Docker-Compose？"><a href="#一、什么是-Docker-Compose？" class="headerlink" title="一、什么是 Docker Compose？"></a>一、什么是 Docker Compose？</h1><p><code>Docker Compose</code>是一个用于定义和运行多容器Docker应用的工具。它通过一个<code>YAML配置文件</code>来集中管理应用程序的相关配置服务，然后使用<code>命令行工具</code>创建并启动这些服务。Docker Compose 提升了开发、测试、部署复杂应用程序的效率，是docker体系的重要组成部分。</p><h1 id="二、Docker-Compose-与-Docker-的关系"><a href="#二、Docker-Compose-与-Docker-的关系" class="headerlink" title="二、Docker Compose 与 Docker 的关系"></a>二、Docker Compose 与 Docker 的关系</h1><h2 id="2-1-对比"><a href="#2-1-对比" class="headerlink" title="2.1 对比"></a>2.1 对比</h2><div class="table-container"><table><thead><tr><th>名称</th><th>基本定义</th><th>核心功能</th><th>主要用途</th><th>关键字</th></tr></thead><tbody><tr><td>Docker</td><td>Docker 是一个开放源代码的容器化平台，允许开发者将应用及其依赖打包进轻量级、可移植的容器中。</td><td>容器化：将应用与其运行环境封装在一个容器中。<br>镜像管理：创建、存储和分发容器镜像。<br>容器运行：在任何支持 Docker 的环境中运行容器。</td><td>提供了一个标准化的方法来打包和运行应用，确保应用在不同环境中的一致性和可移植性。</td><td>容器平台</td></tr><tr><td>Docker Compose</td><td>Docker Compose 是一个用于定义和运行多容器 Docker 应用的工具。</td><td>多容器管理：允许用户在一个 YAML 文件中定义和管理多个容器。<br>服务编排：配置容器间的网络和依赖关系。<br>一键部署：使用单一命令来启动、停止和重建服务。</td><td>简化了多容器应用的配置和管理，特别适用于开发、测试和生产环境中的复杂应用。</td><td>容器编排工具</td></tr></tbody></table></div><h2 id="2-2-关系"><a href="#2-2-关系" class="headerlink" title="2.2 关系"></a>2.2 关系</h2><ul><li><code>Docker Compose 建立在 Docker 之上</code>：Docker Compose 是为了简化使用 Docker 时多容器应用的管理和部署而设计的。</li><li><code>协同工作</code>：虽然 Docker Compose 和 Docker 是独立的工具，但它们通常一起使用。Docker 提供容器化的核心功能，而 Docker Compose 则管理这些容器的组合和交互。</li><li><code>目标用户</code>：Docker 面向任何需要<code>容器化应用</code>的用户，而 Docker Compose 则更专注于那些需要同时管理<code>多个容器</code>的开发者和运维团队。</li></ul><h1 id="三、Docker-Compose-用途"><a href="#三、Docker-Compose-用途" class="headerlink" title="三、Docker Compose 用途"></a>三、Docker Compose 用途</h1><h2 id="3-1-简化多容器应用的配置"><a href="#3-1-简化多容器应用的配置" class="headerlink" title="3.1 简化多容器应用的配置"></a>3.1 简化多容器应用的配置</h2><ul><li>使用一个 <code>YAML</code> 文件（通常命名为 <code>docker-compose.yml</code>）来定义应用中的所有服务（容器），包括它们的依赖、环境变量、暴露的端口等。</li><li>适用于需要多个服务协同工作的应用，如前端、后端和数据库服务。</li></ul><h2 id="3-2-一致地开发、测试和生产环境"><a href="#3-2-一致地开发、测试和生产环境" class="headerlink" title="3.2 一致地开发、测试和生产环境"></a>3.2 一致地开发、测试和生产环境</h2><ul><li>Docker Compose 确保应用在开发、测试和生产环境中以相同的方式运行，减少环境差异带来的问题。</li><li>有助于在本地环境中模拟生产环境，提高开发和测试的效率。</li></ul><h2 id="3-3-微服务架构的支持"><a href="#3-3-微服务架构的支持" class="headerlink" title="3.3 微服务架构的支持"></a>3.3 微服务架构的支持</h2><ul><li><p>对于基于微服务架构的应用，Docker Compose 提供了一种管理多个微服务的简单方法，每个服务可以在独立的容器中运行。</p><h2 id="3-4-自动化和持续集成"><a href="#3-4-自动化和持续集成" class="headerlink" title="3.4 自动化和持续集成"></a>3.4 自动化和持续集成</h2></li><li><p>可以轻松集成到 CI/CD 流程中，自动化构建、测试和部署应用。</p></li><li>支持在持续集成管道中运行自动化测试。</li></ul><h2 id="3-5-网络和卷的简化管理"><a href="#3-5-网络和卷的简化管理" class="headerlink" title="3.5 网络和卷的简化管理"></a>3.5 网络和卷的简化管理</h2><ul><li>自动配置容器间的网络连接。</li><li>管理数据卷，用于在容器之间共享数据或持久化数据。</li></ul><h2 id="3-6-快速部署和伸缩"><a href="#3-6-快速部署和伸缩" class="headerlink" title="3.6 快速部署和伸缩"></a>3.6 快速部署和伸缩</h2><ul><li>快速启动和停止整个应用或应用的特定服务。</li><li>支持服务的水平扩展，可以轻松地增加或减少服务的实例数。</li></ul><h2 id="3-7-开发和部署的便利性"><a href="#3-7-开发和部署的便利性" class="headerlink" title="3.7 开发和部署的便利性"></a>3.7 开发和部署的便利性</h2><ul><li>适用于开发者在本地环境进行开发和测试。</li><li>便于运维人员在生产环境中部署和管理复杂的应用堆栈。</li></ul><h1 id="四、Docker-Compose-的优点"><a href="#四、Docker-Compose-的优点" class="headerlink" title="四、Docker Compose 的优点"></a>四、Docker Compose 的优点</h1><h2 id="4-1-简化多容器应用的配置"><a href="#4-1-简化多容器应用的配置" class="headerlink" title="4.1.简化多容器应用的配置"></a>4.1.简化多容器应用的配置</h2><ul><li>定义和共享复杂配置：Docker Compose 允许用户通过一个简单的 YAML 文件定义多容器应用的配置，这使得配置更容易被理解、共享和版本控制。</li><li>一键式部署：通过单个命令（docker-compose up），可以同时启动应用中的所有容器，这大大简化了部署流程。</li></ul><h2 id="4-2-促进开发和测试的一致性"><a href="#4-2-促进开发和测试的一致性" class="headerlink" title="4.2.促进开发和测试的一致性"></a>4.2.促进开发和测试的一致性</h2><ul><li>环境一致性：Docker Compose 确保开发、测试和生产环境中的一致性，减少了因环境不一致导致的 “在我机器上可以运行” 的问题。</li><li>便于本地测试和开发：开发人员可以在本地机器上轻松模拟生产环境，提高开发和测试的效率。</li></ul><h2 id="4-3-微服务架构的支持"><a href="#4-3-微服务架构的支持" class="headerlink" title="4.3.微服务架构的支持"></a>4.3.微服务架构的支持</h2><ul><li>微服务友好：对于基于微服务架构的应用，Docker Compose 使得管理多个服务成为可能，每个服务都在其独立的容器中运行。</li><li>服务间依赖管理：它可以管理服务之间的依赖关系，确保服务按正确的顺序启动和关闭。</li></ul><h2 id="4-4-网络和卷的简化管理"><a href="#4-4-网络和卷的简化管理" class="headerlink" title="4.4.网络和卷的简化管理"></a>4.4.网络和卷的简化管理</h2><ul><li>自动网络配置：Docker Compose 自动设置容器间的网络，使它们可以互相通信，无需手动配置网络。</li><li>数据卷管理：它还管理数据卷，为容器间的数据共享和持久化提供方便。</li></ul><h2 id="4-5-适用于持续集成-持续部署（CI-CD）"><a href="#4-5-适用于持续集成-持续部署（CI-CD）" class="headerlink" title="4.5.适用于持续集成 / 持续部署（CI/CD）"></a>4.5.适用于持续集成 / 持续部署（CI/CD）</h2><ul><li>CI/CD 流程集成：Docker Compose 可以轻松集成到 CI/CD 流程中，自动化地构建、测试和部署应用。</li><li>快速迭代：它支持快速迭代和频繁部署，这是现代软件开发的关键。</li></ul><h2 id="4-6-资源优化和缩放"><a href="#4-6-资源优化和缩放" class="headerlink" title="4.6.资源优化和缩放"></a>4.6.资源优化和缩放</h2><ul><li>资源分配控制：Docker Compose 允许用户控制每个容器的资源限制，优化资源使用。</li><li>容易扩展：通过简单的命令可以扩展服务的实例数，便于应对不同的负载需求。</li></ul><h1 id="五、Docker-Compose-安装"><a href="#五、Docker-Compose-安装" class="headerlink" title="五、Docker Compose 安装"></a>五、Docker Compose 安装</h1><h2 id="5-1-Linux"><a href="#5-1-Linux" class="headerlink" title="5.1 Linux"></a>5.1 Linux</h2><h3 id="5-1-1-下载docker-compose"><a href="#5-1-1-下载docker-compose" class="headerlink" title="5.1.1 下载docker-compose"></a>5.1.1 下载docker-compose</h3><p>Linux 上我们可以从 Github 上下载它的二进制包来使用，最新发行的版本地址：<a target="_blank" rel="noopener" href="https://github.com/docker/compose/releases。">https://github.com/docker/compose/releases。</a></p><p>运行以下命令以下载 Docker Compose 的当前稳定版本：<br><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">$ <span class="token function">sudo</span> <span class="token function">curl</span> <span class="token parameter variable">-L</span> <span class="token string">"https://github.com/docker/compose/releases/download/v2.2.2/docker-compose-<span class="token variable"><span class="token variable">$(</span><span class="token function">uname</span> <span class="token parameter variable">-s</span><span class="token variable">)</span></span>-<span class="token variable"><span class="token variable">$(</span><span class="token function">uname</span> <span class="token parameter variable">-m</span><span class="token variable">)</span></span>"</span> <span class="token parameter variable">-o</span> /usr/local/bin/docker-compose
<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></p><blockquote><p>要安装其他版本的 Compose，请替换 <code>v2.2.2</code>。</p></blockquote><h3 id="5-1-2-使二进制文件可执行"><a href="#5-1-2-使二进制文件可执行" class="headerlink" title="5.1.2 使二进制文件可执行"></a>5.1.2 使二进制文件可执行</h3><p>将可执行权限应用于二进制文件：<br><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">$ <span class="token function">sudo</span> <span class="token function">chmod</span> +x /usr/local/bin/docker-compose<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></p><h3 id="5-1-3-测试"><a href="#5-1-3-测试" class="headerlink" title="5.1.3 测试"></a>5.1.3 测试</h3><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">$ <span class="token function">docker-compose</span> <span class="token parameter variable">--version</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h2 id="5-2-macOS"><a href="#5-2-macOS" class="headerlink" title="5.2 macOS"></a>5.2 macOS</h2><h3 id="5-2-1-安装-Docker-Desktop"><a href="#5-2-1-安装-Docker-Desktop" class="headerlink" title="5.2.1 安装 Docker Desktop"></a>5.2.1 安装 Docker Desktop</h3><p>在 macOS 上，Docker Compose 同样作为 Docker Desktop 的一部分提供。</p><p>从 Docker 官网下载并安装 Docker Desktop。</p><h3 id="5-2-2-启用-Docker-Compose"><a href="#5-2-2-启用-Docker-Compose" class="headerlink" title="5.2.2 启用 Docker Compose"></a>5.2.2 启用 Docker Compose</h3><p>Docker Desktop 安装过程中会自动包含 Docker Compose。</p><h3 id="5-2-3-测试安装："><a href="#5-2-3-测试安装：" class="headerlink" title="5.2.3 测试安装："></a>5.2.3 测试安装：</h3><p>打开终端，并运行：<br><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">$ <span class="token function">docker-compose</span> <span class="token parameter variable">--version</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></p><h2 id="5-3-Windows"><a href="#5-3-Windows" class="headerlink" title="5.3 Windows"></a>5.3 Windows</h2><p>Windows 的 Docker 桌面版和 <code>Docker Toolbox</code> 已经包括 Compose 和其他 Docker 应用程序，因此 Windows 用户不需要单独安装 Compose。Docker 安装说明可以参阅 <a target="_blank" rel="noopener" href="https://www.runoob.com/docker/windows-docker-install.html">Windows Docker 安装</a>。</p><h1 id="六、Docker-Compose-文件"><a href="#六、Docker-Compose-文件" class="headerlink" title="六、Docker Compose 文件"></a>六、Docker Compose 文件</h1><p>Docker Compose 文件是 Docker Compose 工具的核心，用于定义和配置多容器 Docker 应用。这个文件通常命名为 <code>docker-compose.yml</code>，采用 <code>YAML</code>（YAML Ain’t Markup Language）格式编写。</p><p>Compose 中有两个重要的概念：</p><ul><li><code>服务</code> (service)：一个应用的容器，实际上可以包括若干运行相同镜像的容器实例。</li><li><code>项目</code> (project)：由一组关联的应用容器组成的一个完整业务单元，在 <code>docker-compose.yml</code> 文件中定义。</li></ul><p>可见，一个项目可以由多个服务（容器）关联而成，Compose 面向项目进行管理。</p><h2 id="6-1-文件结构"><a href="#6-1-文件结构" class="headerlink" title="6.1 文件结构"></a>6.1 文件结构</h2><ul><li><code>版本</code>（version）： 指定 Compose 文件格式的版本。版本决定了可用的配置选项。</li><li><code>服务</code>（services）： 定义了应用中的每个容器（服务）。每个服务可以使用不同的镜像、环境设置和依赖关系。<ul><li><code>镜像</code>（image）： 从指定的镜像中启动容器，可以是存储仓库、标签以及镜像 ID</li><li><code>构建</code>（build）： 指定构建镜像的 dockerfile 的上下文路径，或者详细配置对象。，用于构建镜像。</li><li><code>端口</code>（ports）： 映射容器和宿主机的端口</li><li><code>依赖</code>（depends_on）： 依赖配置的选项，意思是如果 服务启动是如果有依赖于其他服务的，先启动被依赖的服务，启动完成后在启动该服务</li><li><code>环境变量</code>（environment）： 设置服务运行所需的环境变量。</li><li><code>重启</code>（restart）: 控制容器的重启策略。在容器退出时，根据指定的策略自动重启容器。<ul><li>no：不自动重启。</li><li>always：无论退出状态码如何，总是重启容器。</li><li>on-failure：仅在容器非正常退出时（退出状态码非零）重启。</li><li>unless-stopped：除非手动停止，否则总是重启</li></ul></li><li><code>服务卷</code>（volumes）: 定义服务使用的卷，用于数据持久化或在容器之间共享数据。</li></ul></li><li><code>命令</code>（command）： 覆盖容器启动后默认执行的命令。在启动服务时运行特定的命令或脚本，常用于启动应用程序、执行初始化脚本等。</li><li><code>网络</code>（networks）： 定义了容器间的网络连接。</li><li><code>卷</code>（volumes）： 用于数据持久化和共享的数据卷定义。常用于数据库存储、配置文件、日志等数据的持久化。</li></ul><blockquote><p>Tips:<br>swarm 集群模式，restart策略请改用 <code>restart_policy</code>。<br>更多命令说明及其用法，可参考 <a target="_blank" rel="noopener" href="https://www.runoob.com/docker/docker-compose.html">yml 配置指令参考</a> 和 <a target="_blank" rel="noopener" href="https://docker-practice.github.io/zh-cn/compose/compose_file.html">Compose 模板文件</a>.</p></blockquote><h1 id="七、Docker-Compose-常用命令"><a href="#七、Docker-Compose-常用命令" class="headerlink" title="七、Docker Compose 常用命令"></a>七、Docker Compose 常用命令</h1><p>执行 <code>docker compose [COMMAND] --help</code> 可以查看具体某个命令的使用格式。</p><p>docker compose 命令的基本的使用格式是<br><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">docker</span> compose <span class="token punctuation">[</span>-f<span class="token operator">=</span><span class="token operator">&lt;</span>arg<span class="token operator">></span><span class="token punctuation">..</span>.<span class="token punctuation">]</span> <span class="token punctuation">[</span>options<span class="token punctuation">]</span> <span class="token punctuation">[</span>COMMAND<span class="token punctuation">]</span> <span class="token punctuation">[</span>ARGS<span class="token punctuation">..</span>.<span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></p><p>其中：</p><ul><li><code>-f, --file FILE</code> 指定使用的 Compose 模板文件，默认为 docker-compose.yml，可以多次指定。</li><li><code>-p, --project-name NAME</code> 指定项目名称，默认将使用所在目录名称作为项目名。</li><li><code>--verbose</code> 输出更多调试信息。</li><li><code>-v, --version</code> 打印版本并退出。</li></ul><h2 id="7-1-up"><a href="#7-1-up" class="headerlink" title="7.1 up"></a>7.1 up</h2><ul><li>用途：启动服务。默认情况下，它会运行 docker-compose.yml 文件中定义的所有服务。</li><li>示例：<ul><li>启动所有服务：<code>docker-compose up</code></li><li>在后台运行服务：<code>docker-compose up -d</code></li><li>强制重新构建服务：<code>docker-compose up --build</code></li></ul></li></ul><h2 id="7-2-down"><a href="#7-2-down" class="headerlink" title="7.2 down"></a>7.2 down</h2><ul><li>用途：停止并移除由 <code>docker-compose up</code> 创建的容器、网络、卷和默认镜像。</li><li>示例：<ul><li>停止并移除服务：<code>docker-compose down</code></li><li>停止服务并移除卷：<code>docker-compose down -v</code></li></ul></li></ul><h2 id="7-3-logs"><a href="#7-3-logs" class="headerlink" title="7.3 logs"></a>7.3 logs</h2><ul><li>用途：查看服务的日志输出。</li><li>示例：<ul><li>查看所有服务日志：<code>docker-compose logs</code></li><li>跟踪日志输出：<code>docker-compose logs -f</code></li></ul></li></ul><h2 id="7-4-ps"><a href="#7-4-ps" class="headerlink" title="7.4 ps"></a>7.4 ps</h2><ul><li>用途：列出项目中当前状态的容器。</li><li>示例：<code>docker-compose ps</code></li></ul><h2 id="7-5-exec"><a href="#7-5-exec" class="headerlink" title="7.5 exec"></a>7.5 exec</h2><ul><li>用途：在运行中的容器上执行命令。</li><li>示例：<ul><li>进入容器的交互式命令行：<code>docker-compose exec service_name /bin/sh</code></li><li>执行特定命令：<code>docker-compose exec service_name ls -l</code></li></ul></li></ul><h2 id="7-6-stop"><a href="#7-6-stop" class="headerlink" title="7.6 stop"></a>7.6 stop</h2><ul><li>用途：停止服务，但不移除容器。</li><li>示例：<code>docker-compose stop</code></li></ul><h2 id="7-7-start"><a href="#7-7-start" class="headerlink" title="7.7 start"></a>7.7 start</h2><ul><li>用途：启动已停止的服务。</li><li>示例：<code>docker-compose start</code></li></ul><h2 id="7-8-restart"><a href="#7-8-restart" class="headerlink" title="7.8 restart"></a>7.8 restart</h2><ul><li>用途：重启服务。</li><li>示例：<code>docker-compose restart</code></li></ul><h2 id="7-9-pull"><a href="#7-9-pull" class="headerlink" title="7.9 pull"></a>7.9 pull</h2><ul><li>用途：拉取服务依赖的镜像。</li><li>示例：<code>docker-compose pull</code></li></ul><h2 id="7-10-build"><a href="#7-10-build" class="headerlink" title="7.10 build"></a>7.10 build</h2><ul><li>用途：构建或重新构建服务。</li><li>示例：<code>docker-compose build</code></li></ul><h2 id="7-11-rm"><a href="#7-11-rm" class="headerlink" title="7.11 rm"></a>7.11 rm</h2><ul><li>用途：移除已停止的容器。</li><li>示例：<code>docker-compose rm</code></li></ul><h1 id="八、Docker-Compose-网络配置"><a href="#八、Docker-Compose-网络配置" class="headerlink" title="八、Docker Compose 网络配置"></a>八、Docker Compose 网络配置</h1><p>在 Docker Compose 中，网络配置是一个重要的组成部分，它允许你定义容器之间的通信方式、隔离级别以及与外部网络的连接。</p><h2 id="8-1-network-mode"><a href="#8-1-network-mode" class="headerlink" title="8.1 network_mode"></a>8.1 network_mode</h2><pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml"><span class="token key atrule">network_mode</span><span class="token punctuation">:</span> <span class="token string">"bridge"</span> <span class="token comment"># 默认网路类型，适用于不同容器之间的通信</span>
<span class="token comment"># "host" 容器共享宿主机的网络，没有网络隔离</span>
<span class="token comment"># "none" 容器没有分配网络</span>
<span class="token comment"># "service:[service name]"</span>
<span class="token comment"># "container:[container name/id]"</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="8-2-networks"><a href="#8-2-networks" class="headerlink" title="8.2 networks"></a>8.2 networks</h2><p>配置容器连接的网络，引用顶级 networks 下的条目 。</p><pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml"><span class="token key atrule">services</span><span class="token punctuation">:</span>
  <span class="token key atrule">some-service</span><span class="token punctuation">:</span>
    <span class="token key atrule">networks</span><span class="token punctuation">:</span>
      <span class="token key atrule">some-network</span><span class="token punctuation">:</span>
        <span class="token key atrule">aliases</span><span class="token punctuation">:</span>
         <span class="token punctuation">-</span> alias1
      <span class="token key atrule">other-network</span><span class="token punctuation">:</span>
        <span class="token key atrule">aliases</span><span class="token punctuation">:</span>
         <span class="token punctuation">-</span> alias2
<span class="token key atrule">networks</span><span class="token punctuation">:</span>
  <span class="token key atrule">some-network</span><span class="token punctuation">:</span>
    <span class="token comment"># Use a custom driver</span>
    <span class="token key atrule">driver</span><span class="token punctuation">:</span> custom<span class="token punctuation">-</span>driver<span class="token punctuation">-</span><span class="token number">1</span>
  <span class="token key atrule">other-network</span><span class="token punctuation">:</span>
    <span class="token comment"># Use a custom driver which takes special options</span>
    <span class="token key atrule">driver</span><span class="token punctuation">:</span> custom<span class="token punctuation">-</span>driver<span class="token punctuation">-</span><span class="token number">2</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="8-3-别名（Aliases）"><a href="#8-3-别名（Aliases）" class="headerlink" title="8.3 别名（Aliases）"></a>8.3 别名（Aliases）</h2><p>同一网络上的其他容器可以使用服务名称或此别名来连接到对应容器的服务。</p><blockquote><p>注意事项</p><ul><li>在默认情况下，Docker Compose 为每个项目设置一个默认网络，所有未指定网络的服务都会连接到这个默认网络。</li><li>使用自定义网络时，确保正确地指定了网络名称，并在服务定义中引用它。</li><li>网络配置可以根据你的项目需求灵活调整。</li></ul></blockquote><h1 id="九、Docker-Compose-数据卷（Volumes）"><a href="#九、Docker-Compose-数据卷（Volumes）" class="headerlink" title="九、Docker Compose 数据卷（Volumes）"></a>九、Docker Compose 数据卷（Volumes）</h1><p>在 Docker Compose 中使用<code>数据卷</code>（Volumes）是一种有效的方式来实现数据的<code>持久化</code>和<code>共享</code>。</p><p>数据卷可以用于存储数据库的数据、保存应用的状态、共享文件等。</p><h2 id="9-1-数据卷的类型"><a href="#9-1-数据卷的类型" class="headerlink" title="9.1 数据卷的类型"></a>9.1 数据卷的类型</h2><ul><li><code>匿名卷</code>：由 Docker 自动创建，没有指定明确的名称，适合临时数据。</li><li><code>命名卷</code>：具有特定名称，便于引用和重用，适合持久化数据。</li><li><code>宿主机卷</code>：直接映射宿主机的目录或文件到容器中，适合开发环境。</li></ul><h2 id="9-2-数据卷的定义"><a href="#9-2-数据卷的定义" class="headerlink" title="9.2 数据卷的定义"></a>9.2 数据卷的定义</h2><h3 id="9-2-1-命名卷"><a href="#9-2-1-命名卷" class="headerlink" title="9.2.1 命名卷"></a>9.2.1 命名卷</h3><p>这里定义了一个名为 <code>dbdata</code> 的命名卷，并被 db 服务用来存储数据库数据。<br><pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml"><span class="token key atrule">version</span><span class="token punctuation">:</span> <span class="token string">'3'</span>
<span class="token key atrule">services</span><span class="token punctuation">:</span>
  <span class="token key atrule">db</span><span class="token punctuation">:</span>
    <span class="token key atrule">image</span><span class="token punctuation">:</span> postgres
    <span class="token key atrule">volumes</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> dbdata<span class="token punctuation">:</span>/var/lib/postgresql/data

<span class="token key atrule">volumes</span><span class="token punctuation">:</span>
  <span class="token key atrule">dbdata</span><span class="token punctuation">:</span>  <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></p><blockquote><p>Tips: 如果路径为数据卷名称，必须在文件中配置数据卷。</p></blockquote><h3 id="9-2-2-宿主机卷"><a href="#9-2-2-宿主机卷" class="headerlink" title="9.2.2 宿主机卷"></a>9.2.2 宿主机卷</h3><p>这里将当前目录下的 <code>html</code> 文件夹挂载到了 <code>web</code> 服务的 <code>/usr/share/nginx/html</code> 目录。<br><pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml"><span class="token key atrule">version</span><span class="token punctuation">:</span> <span class="token string">'3'</span>
<span class="token key atrule">services</span><span class="token punctuation">:</span>
  <span class="token key atrule">web</span><span class="token punctuation">:</span>
    <span class="token key atrule">image</span><span class="token punctuation">:</span> nginx
    <span class="token key atrule">volumes</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> ./html<span class="token punctuation">:</span>/usr/share/nginx/html<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></p><h3 id="9-2-3-匿名卷"><a href="#9-2-3-匿名卷" class="headerlink" title="9.2.3 匿名卷"></a>9.2.3 匿名卷</h3><p>在这个例子中，<code>app</code> 服务将创建一个匿名卷来存储 <code>/app/data</code> 目录的数据。<br><pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml"><span class="token key atrule">version</span><span class="token punctuation">:</span> <span class="token string">'3'</span>
<span class="token key atrule">services</span><span class="token punctuation">:</span>
  <span class="token key atrule">app</span><span class="token punctuation">:</span>
    <span class="token key atrule">image</span><span class="token punctuation">:</span> myapp
    <span class="token key atrule">volumes</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> /app/data<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></p><h2 id="9-3-数据卷的其他配置选项"><a href="#9-3-数据卷的其他配置选项" class="headerlink" title="9.3 数据卷的其他配置选项"></a>9.3 数据卷的其他配置选项</h2><ul><li><code>driver</code>：指定卷的驱动。默认是 local，但也可以使用其他插件，如 nfs 或 cloud 存储。</li><li><code>driver_opts</code>：为卷驱动提供额外的选项。</li><li><code>labels</code>：给卷添加标签，有助于组织和管理。</li></ul><h2 id="9-4-数据卷的优点"><a href="#9-4-数据卷的优点" class="headerlink" title="9.4 数据卷的优点"></a>9.4 数据卷的优点</h2><ul><li><code>数据持久化</code>：即使容器被删除，卷中的数据仍然保留。</li><li><code>效率</code>：相比于复制数据，使用卷更高效。</li><li><code>共享</code>：容器间可以共享数据。</li></ul><blockquote><p>注意事项</p><ul><li>使用宿主机卷时，需要确保文件路径的正确性和权限问题。</li><li>命名卷在 Docker Compose 项目间是独立的，可以跨容器共享。</li><li>匿名卷通常用于临时或不重要的数据，因为它们的识别和管理比较困难。</li></ul></blockquote><h1 id="十、环境隔离和配置管理"><a href="#十、环境隔离和配置管理" class="headerlink" title="十、环境隔离和配置管理"></a>十、环境隔离和配置管理</h1><p>在 Docker Compose 中进行<code>环境隔离</code>和<code>配置管理</code>是确保应用在不同环境（如开发、测试和生产）中可靠运行的关键。这涉及到使用环境变量、<code>.env</code> 文件和不同的 <code>docker-compose</code> 配置文件来管理和隔离不同环境的配置。</p><h2 id="10-1-环境隔离的重要性"><a href="#10-1-环境隔离的重要性" class="headerlink" title="10.1 环境隔离的重要性"></a>10.1 环境隔离的重要性</h2><ul><li><code>避免冲突</code>：确保开发、测试和生产环境之间不会互相影响，避免配置冲突或资源竞争。</li><li><code>一致性测试</code>：在与生产环境尽可能类似的条件下测试代码，以减少部署时出现的问题。</li><li><code>安全性</code>：保护敏感数据，防止在开发和测试过程中意外暴露。</li><li><code>稳定性</code>：确保生产环境的稳定运行，不受其他环境的干扰。</li></ul><p>在 Docker 和 Docker Compose 中，使用 <code>.env</code> 文件和<code>环境变量</code>来管理配置是一种常见且有效的做法。这种方法提供了一种灵活的方式来处理不同环境（开发、测试、生产）的配置差异，同时保护敏感信息不被直接写入到配置文件中。</p><h2 id="10-2-env-文件的使用"><a href="#10-2-env-文件的使用" class="headerlink" title="10.2 .env 文件的使用"></a>10.2 .env 文件的使用</h2><h3 id="10-2-1-创建-env-文件"><a href="#10-2-1-创建-env-文件" class="headerlink" title="10.2.1 创建 .env 文件"></a>10.2.1 创建 .env 文件</h3><ul><li>在项目的根目录下创建一个 <code>.env</code> 文件。</li><li>文件中的每一行定义一个环境变量，格式为 <code>KEY=value</code>。</li></ul><h3 id="10-2-2-在-env-文件中定义环境变量"><a href="#10-2-2-在-env-文件中定义环境变量" class="headerlink" title="10.2.2 在 .env 文件中定义环境变量"></a>10.2.2 在 .env 文件中定义环境变量</h3><p>例如，定义数据库连接信息：<br><pre class="line-numbers language-none"><code class="language-none"># .env
DB_HOST&#x3D;db
DB_USER&#x3D;root
DB_PASS&#x3D;secret<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre></p><h3 id="10-2-3-Docker-Compose-与-env-文件的交互"><a href="#10-2-3-Docker-Compose-与-env-文件的交互" class="headerlink" title="10.2.3 Docker Compose 与 .env 文件的交互"></a>10.2.3 Docker Compose 与 .env 文件的交互</h3><p>Docker Compose 默认会读取<code>同一目录下</code>的 <code>.env</code> 文件，并自动使用其中定义的环境变量。</p><p>在 docker-compose.yml 文件中，可以使用这些变量。</p><h2 id="10-3-在-docker-compose-yml-中使用环境变量"><a href="#10-3-在-docker-compose-yml-中使用环境变量" class="headerlink" title="10.3 在 docker-compose.yml 中使用环境变量"></a>10.3 在 docker-compose.yml 中使用环境变量</h2><h3 id="10-3-1-环境变量替换"><a href="#10-3-1-环境变量替换" class="headerlink" title="10.3.1 环境变量替换"></a>10.3.1 环境变量替换</h3><ul><li>在 <code>docker-compose.yml</code> 文件中，可以使用环境变量来设置服务的配置。</li><li>使用 <code>$&#123;VARIABLE_NAME&#125;</code> 或 <code>$VARIABLE_NAME</code> 的格式。</li></ul><p>示例：<br><pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml"><span class="token comment"># docker-compose.yml</span>
<span class="token key atrule">version</span><span class="token punctuation">:</span> <span class="token string">'3'</span>
<span class="token key atrule">services</span><span class="token punctuation">:</span>
  <span class="token key atrule">web</span><span class="token punctuation">:</span>
    <span class="token key atrule">image</span><span class="token punctuation">:</span> <span class="token string">"webapp:$&#123;TAG&#125;"</span>
    <span class="token key atrule">environment</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> DB_HOST=$<span class="token punctuation">&#123;</span>DB_HOST<span class="token punctuation">&#125;</span>
      <span class="token punctuation">-</span> DB_USER=$<span class="token punctuation">&#123;</span>DB_USER<span class="token punctuation">&#125;</span>
      <span class="token punctuation">-</span> DB_PASS=$<span class="token punctuation">&#123;</span>DB_PASS<span class="token punctuation">&#125;</span>
  <span class="token key atrule">db</span><span class="token punctuation">:</span>
    <span class="token key atrule">image</span><span class="token punctuation">:</span> <span class="token string">"mysql:5.7"</span>
    <span class="token key atrule">environment</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> MYSQL_ROOT_PASSWORD=$<span class="token punctuation">&#123;</span>DB_PASS<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></p><blockquote><p>在这个例子中，TAG、DB_HOST、DB_USER 和 DB_PASS 都是从 .env 文件中获取的。</p></blockquote><h3 id="10-3-2-环境变量的默认值"><a href="#10-3-2-环境变量的默认值" class="headerlink" title="10.3.2 环境变量的默认值"></a>10.3.2 环境变量的默认值</h3><ul><li>可以为环境变量指定默认值，如果 <code>.env</code> 文件或环境中没有设置该变量，则会使用默认值。</li><li>使用 <code>$&#123;VARIABLE_NAME:-default_value&#125;</code> 的格式。</li></ul><p>示例：<br><pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml"><span class="token key atrule">environment</span><span class="token punctuation">:</span> 
  <span class="token key atrule">DB_HOST</span><span class="token punctuation">:</span> $<span class="token punctuation">&#123;</span>DB_HOST<span class="token punctuation">:</span><span class="token punctuation">-</span>localhost<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre></p><blockquote><p>现在，当你运行 <code>docker-compose up -d</code> 命令时，Docker Compose 会自动加载 <code>.env</code> 文件中的环境变量，并将它们应用到你的服务配置中。</p></blockquote><h3 id="10-3-3-注意事项"><a href="#10-3-3-注意事项" class="headerlink" title="10.3.3 注意事项"></a>10.3.3 注意事项</h3><ul><li><code>.env</code> 文件<strong>不应该</strong>被提交到版本控制系统中，因为它可能包含敏感信息。你应该将 <code>.env</code> 文件添加到 <code>.gitignore</code> 文件中，以确保它不会被意外提交。</li><li>如果你在命令行中定义了与 <code>.env</code> 文件中相同名称的环境变量，命令行中的值将覆盖 <code>.env</code> 文件中的值。</li><li>Docker Compose 会自动加载<code>项目根目录</code>下的 <code>.env</code> 文件。如果你想要加载其他位置的 .env 文件，可以使用 <code>--env-file</code> 选项：<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">docker-compose</span> --env-file /path/to/myenvfile up<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></li><li>环境变量是<code>按顺序解析</code>的，这意味着如果多个 <code>.env</code> 文件中定义了<strong>相同的变量</strong>，最后一个被加载的文件中的值将覆盖之前的值。</li></ul><h2 id="10-4-不同环境（开发、测试、生产）配置-Docker-Compose"><a href="#10-4-不同环境（开发、测试、生产）配置-Docker-Compose" class="headerlink" title="10.4 不同环境（开发、测试、生产）配置 Docker Compose"></a>10.4 不同环境（开发、测试、生产）配置 Docker Compose</h2><p>在 Docker Compose 中为不同环境（开发、测试、生产）配置应用是一种常见需求。这通常涉及到使用不同的配置文件和环境变量来适应每个环境的特定需求。以下是一些方法和最佳实践来实现这一目标：</p><h3 id="10-4-1-使用不同的-Docker-Compose-文件"><a href="#10-4-1-使用不同的-Docker-Compose-文件" class="headerlink" title="10.4.1 使用不同的 Docker Compose 文件"></a>10.4.1 使用不同的 Docker Compose 文件</h3><h4 id="10-4-1-1-创建环境特定的-Compose-文件"><a href="#10-4-1-1-创建环境特定的-Compose-文件" class="headerlink" title="10.4.1.1 创建环境特定的 Compose 文件"></a>10.4.1.1 创建环境特定的 Compose 文件</h4><ul><li>为每个环境创建一个<code>单独的 Docker Compose 文件</code>，例如 <code>docker-compose.dev.yml</code>（开发），<code>docker-compose.test.yml</code>（测试），和 <code>docker-compose.prod.yml</code>（生产）。</li><li>这些文件可以覆盖或扩展基本的 <code>docker-compose.yml</code> 文件。</li></ul><h4 id="10-4-1-2-文件内容"><a href="#10-4-1-2-文件内容" class="headerlink" title="10.4.1.2 文件内容"></a>10.4.1.2 文件内容</h4><ul><li>在开发环境文件中，可能包含额外的挂载卷用于代码热重载，或者更详细的日志输出。</li><li>在测试环境中，可能包含特定的测试服务或配置。</li><li>生产文件可能包括性能优化设置和安全相关的配置。</li></ul><h4 id="10-4-1-3-使用-f-参数指定文件"><a href="#10-4-1-3-使用-f-参数指定文件" class="headerlink" title="10.4.1.3 使用 -f 参数指定文件"></a>10.4.1.3 使用 -f 参数指定文件</h4><p>使用 <code>docker-compose -f</code> 参数来指定要使用的文件。</p><p>例如，启动生产环境：<br><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">docker-compose</span> <span class="token parameter variable">-f</span> docker-compose.yml <span class="token parameter variable">-f</span> docker-compose.prod.yml up <span class="token parameter variable">-d</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></p><h3 id="10-4-2-使用环境变量"><a href="#10-4-2-使用环境变量" class="headerlink" title="10.4.2 使用环境变量"></a>10.4.2 使用环境变量</h3><h4 id="10-4-2-2-env-文件"><a href="#10-4-2-2-env-文件" class="headerlink" title="10.4.2.2 .env 文件"></a>10.4.2.2 .env 文件</h4><ul><li>为每个环境创建一个 <code>.env</code> 文件，如 <code>.env.dev</code>, <code>.env.test</code>, <code>.env.prod</code>。</li><li>这些文件包含特定于环境的变量，例如数据库连接字符串或 API 密钥。</li></ul><h4 id="10-4-2-2-在-Compose-文件中引用环境变量"><a href="#10-4-2-2-在-Compose-文件中引用环境变量" class="headerlink" title="10.4.2.2 在 Compose 文件中引用环境变量"></a>10.4.2.2 在 Compose 文件中引用环境变量</h4><p>使用 <code>$&#123;VARIABLE_NAME&#125;</code> 的格式在 Docker Compose 文件中引用环境变量。</p><p>例如：<br><pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml"><span class="token key atrule">environment</span><span class="token punctuation">:</span> 
  <span class="token punctuation">-</span> DATABASE_URL=$<span class="token punctuation">&#123;</span>DB_URL<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre></p><h4 id="10-4-2-3-在启动时指定-env-文件"><a href="#10-4-2-3-在启动时指定-env-文件" class="headerlink" title="10.4.2.3 在启动时指定 .env 文件"></a>10.4.2.3 在启动时指定 .env 文件</h4><p>当启动 Docker Compose 时，通过设置 <code>--env-file</code> 参数来指定不同的 <code>.env</code> 文件。</p><p>例如：<br><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">docker-compose</span> --env-file .env.prod up<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></p><h3 id="10-4-3-最佳实践"><a href="#10-4-3-最佳实践" class="headerlink" title="10.4.3 最佳实践"></a>10.4.3 最佳实践</h3><h4 id="10-4-3-1-保持基础配置的一致性"><a href="#10-4-3-1-保持基础配置的一致性" class="headerlink" title="10.4.3.1 保持基础配置的一致性"></a>10.4.3.1 保持基础配置的一致性</h4><p>尽量保持 <code>docker-compose.yml</code> 文件中的基本配置一致，使其简洁易读，并通过额外的文件来覆盖或扩展配置。</p><p>比如对于复杂应用，可考虑将服务分散至多个compose文件中，并使用 <code>extends</code> 关键字或 <code>-f</code> 参数来合并它们。</p><h4 id="10-4-3-2-安全性和隐私"><a href="#10-4-3-2-安全性和隐私" class="headerlink" title="10.4.3.2 安全性和隐私"></a>10.4.3.2 安全性和隐私</h4><p>确保不要在版本控制中暴露敏感信息。<code>.env</code> 文件和环境特定的 Compose 文件如果包含敏感数据，不应该被提交。</p><blockquote><p>常见措施：</p><ul><li><strong>避免</strong>在 Compose 文件中硬编码敏感信息，如密码和 API 密钥。</li><li>使用<code>环境变量</code>和 <code>.env</code> 文件来管理敏感配置和环境特定的设置。</li></ul></blockquote><h4 id="10-4-3-3-文档化"><a href="#10-4-3-3-文档化" class="headerlink" title="10.4.3.3 文档化"></a>10.4.3.3 文档化</h4><p>清楚地记录每个环境的配置方法和需要的环境变量，帮助团队成员理解如何操作和切换不同环境。</p><h4 id="10-4-3-4-自动化和一致性"><a href="#10-4-3-4-自动化和一致性" class="headerlink" title="10.4.3.4 自动化和一致性"></a>10.4.3.4 自动化和一致性</h4><p>在可能的情况下，使用自动化工具来管理不同环境的部署，确保一致性和减少人为错误。</p><h4 id="10-4-3-5-服务依赖管理"><a href="#10-4-3-5-服务依赖管理" class="headerlink" title="10.4.3.5 服务依赖管理"></a>10.4.3.5 服务依赖管理</h4><ul><li>在 <code>docker-compose.yml</code> 文件中明确定义服务之间的依赖关系，使用 <code>depends_on</code>。</li><li>确保服务以正确的顺序启动和关闭。</li></ul><h4 id="10-4-3-6-网络和卷的合理使用"><a href="#10-4-3-6-网络和卷的合理使用" class="headerlink" title="10.4.3.6 网络和卷的合理使用"></a>10.4.3.6 网络和卷的合理使用</h4><ul><li>明确定义和管理网络，尤其是在涉及多个服务互联的情况下。</li><li>使用卷来持久化和共享数据，特别是对于数据库和需要持久存储的服务。</li></ul><h4 id="10-4-3-7-资源限制"><a href="#10-4-3-7-资源限制" class="headerlink" title="10.4.3.7 资源限制"></a>10.4.3.7 资源限制</h4><p>在 docker-compose.yml 文件中为服务设置资源限制，以防止单个服务消耗过多资源。</p><h4 id="10-4-3-8-日志管理"><a href="#10-4-3-8-日志管理" class="headerlink" title="10.4.3.8 日志管理"></a>10.4.3.8 日志管理</h4><p>配置合适的日志记录机制，以便于监控和故障排查。</p><h4 id="10-4-3-9-构建优化"><a href="#10-4-3-9-构建优化" class="headerlink" title="10.4.3.9 构建优化"></a>10.4.3.9 构建优化</h4><p>对于需要构建的镜像，确保 <code>Dockerfile</code> 被优化以减少构建时间和空间。</p><p>比如需要拉取<code>node</code>，如果是原版全功能的，可能占据空间达1-2G，但如果选用<code>alpine</code>的镜像，空间占用可少一半。</p><h4 id="10-4-3-10-更新和维护"><a href="#10-4-3-10-更新和维护" class="headerlink" title="10.4.3.10 更新和维护"></a>10.4.3.10 更新和维护</h4><ul><li>定期更新 Docker 和 Docker Compose 到最新版本。</li><li>定期检查并更新服务所用的镜像。</li></ul><h4 id="10-4-3-11-安全实践"><a href="#10-4-3-11-安全实践" class="headerlink" title="10.4.3.11 安全实践"></a>10.4.3.11 安全实践</h4><ul><li>定期扫描镜像以发现安全漏洞。</li><li>在生产环境中，考虑使用 <code>Docker Compose</code> 以<code>只读模式</code>运行容器。</li></ul><h1 id="十一、实际案例：构建一个简单的多容器应用"><a href="#十一、实际案例：构建一个简单的多容器应用" class="headerlink" title="十一、实际案例：构建一个简单的多容器应用"></a>十一、实际案例：构建一个简单的多容器应用</h1><p>详见上一章 <a href="/posts/934367677.html" title="【Docker学习】5.集群部署RocketMQ">【Docker学习】5.集群部署RocketMQ</a></p><h1 id="十二、Docker-Compose-常见陷阱和解决方案"><a href="#十二、Docker-Compose-常见陷阱和解决方案" class="headerlink" title="十二、Docker Compose 常见陷阱和解决方案"></a>十二、Docker Compose 常见陷阱和解决方案</h1><p>在使用 Docker Compose 时，用户可能会遇到一系列常见的问题。以下是一些典型问题及其解决方案：</p><div class="table-container"><table><thead><tr><th>序号</th><th>问题描述</th><th>解决方案</th></tr></thead><tbody><tr><td>1</td><td>容器无法相互通信</td><td>确保所有服务都定义在同一个网络中。<br>检查网络配置是否正确，特别是如果你定义了自定义网络。</td></tr><tr><td>2</td><td>环境变量不生效</td><td>确保环境变量在 <code>environment</code> 部分正确设置。<br>如果使用 <code>.env</code> 文件，确保该文件位于 <code>docker-compose.yml</code> 文件同目录下。</td></tr><tr><td>3</td><td>容器意外退出</td><td>使用 <code>docker-compose logs [service_name]</code> 查看退出容器的日志。<br>确保容器的启动命令是在前台运行的。<br>检查容器内的应用配置是否正确。</td></tr><tr><td>4</td><td>卷数据不一致</td><td>确认所有需要共享卷的容器都正确挂载了卷。<br>确保应用程序具有读写卷的权限。</td></tr><tr><td>5</td><td>端口冲突</td><td>确认宿主机上没有其他服务占用了相同的端口。<br>更改 <code>docker-compose.yml</code> 文件中的端口映射设置。</td></tr><tr><td>6</td><td>镜像构建失败</td><td>检查 Dockerfile 是否有错误。<br>确保所有必要的构建上下文文件都可用。<br>查看构建日志来确定失败的具体原因。</td></tr><tr><td>7</td><td>环境隔离问题</td><td>为每个环境使用不同的 <code>.env</code> 文件或 Docker Compose 配置文件。<br>使用不同的网络和卷名称以避免冲突。</td></tr><tr><td>8</td><td>性能问题</td><td>优化 Dockerfile，移除不必要的层。<br>为服务配置资源限制（如内存和 CPU 限制）。<br>检查并优化应用代码和依赖。</td></tr><tr><td>9</td><td>网络延迟</td><td>使用 Docker Compose 的默认<code>桥接</code>网络，它通常提供最佳性能。<br>检查宿主机的网络配置。</td></tr><tr><td>10</td><td>版本兼容性问题</td><td>检查 <code>docker-compose.yml</code> 文件中 <code>version</code> 的值是否与安装的 Docker Compose 版本兼容。<br>如果必要，升级 Docker Compose 到最新版本。</td></tr><tr><td>11</td><td>服务依赖问题</td><td>使用 <code>depends_on</code> 选项来定义服务之间的依赖关系。<br>确保依赖服务在需要它们之前已经启动。</td></tr></tbody></table></div><h1 id="十三、Docker-Compose-常见的调试和排查技巧"><a href="#十三、Docker-Compose-常见的调试和排查技巧" class="headerlink" title="十三、Docker Compose 常见的调试和排查技巧"></a>十三、Docker Compose 常见的调试和排查技巧</h1><p>在使用 Docker Compose 进行开发和管理多容器应用时，有效地调试和问题排查技巧是必不可少的。以下是一些有用的技巧和方法：</p><div class="table-container"><table><thead><tr><th>序号</th><th>调试与排查技巧</th><th>解决方案</th></tr></thead><tbody><tr><td>1</td><td>查看和分析容器日志</td><td>使用 <code>docker-compose logs [service_name]</code> 来查看特定服务的日志。</td></tr><tr><td>2</td><td>使用 <code>docker-compose ps</code> 检查容器状态</td><td>这个命令会显示所有服务的状态，帮助你快速识别哪些服务没有正确运行。</td></tr><tr><td>3</td><td>交互式排查</td><td>进入容器内部进行排查：使用 <code>docker-compose exec [service_name] sh</code> 或 <code>docker-compose exec [service_name] bash</code> 进入容器内部。</td></tr><tr><td>4</td><td>检查和调整配置文件</td><td>仔细检查 <code>docker-compose.yml</code> 文件中的配置，特别是环境变量、端口映射、卷挂载等。</td></tr><tr><td>5</td><td>监控资源使用</td><td>使用命令如 <code>docker stats</code> 查看容器的资源使用情况，如 CPU 和内存占用。</td></tr><tr><td>6</td><td>网络问题排查</td><td>使用 <code>docker network ls</code> 查看网络，<code>docker network inspect [network_name]</code> 来获取网络的更多详情。</td></tr><tr><td>7</td><td>管理依赖</td><td>确保服务之间的依赖关系使用 depends_on 选项正确定义。</td></tr><tr><td>8</td><td>使用环境文件（.env）</td><td>通过 <code>.env</code> 文件来管理环境变量，这有助于减少直接在 <code>docker-compose.yml</code> 文件中硬编码的配置。</td></tr><tr><td>9</td><td>重新构建和清理</td><td>如果你更改了 Dockerfile 或依赖，使用 <code>docker-compose up --build</code> 强制重新构建服务。</td></tr><tr><td>10</td><td>简化和模块化</td><td>对于复杂的设置，考虑将 <code>docker-compose.yml</code> 分解为多个文件，以简化管理。</td></tr><tr><td>11</td><td>文档和社区支持</td><td>利用 Docker 和 Docker Compose 的官方文档来了解更多信息。</td></tr></tbody></table></div><h1 id="十四、总结"><a href="#十四、总结" class="headerlink" title="十四、总结"></a>十四、总结</h1><p>在本次讨论中，我们深入探讨了 Docker Compose 的多个方面，包括其基本概念、环境配置、文件结构与语法、网络与数据卷的使用、环境隔离、多容器应用管理，以及常见问题和调试技巧。这些内容涵盖了 Docker Compose 在容器化应用开发和管理中的核心应用。</p><div class="table-container"><table><thead><tr><th>序号</th><th>优势和重要性</th><th>描述</th></tr></thead><tbody><tr><td>1</td><td>简化复杂应用的管理</td><td>Docker Compose 允许开发者通过一个单一的 <code>docker-compose.yml</code> 文件来定义和管理多容器应用，使复杂应用的配置和部署变得简单直观。</td></tr><tr><td>2</td><td>一致性和可重复性</td><td>通过使用 Docker Compose，开发、测试和生产环境中的应用运行在完全一致的环境中，减少了环境差异导致的问题。</td></tr><tr><td>3</td><td>适合微服务架构</td><td>对于采用微服务架构的应用，Docker Compose 提供了一个方便的方式来启动和管理各个微服务组件。</td></tr><tr><td>4</td><td>加速开发和测试</td><td>开发者可以快速启动和停止复杂应用的多个组件，加速本地开发和测试流程。</td></tr><tr><td>5</td><td>集成和自动化</td><td>Docker Compose 可以轻松地与<code>持续集成/持续部署</code>（CI/CD）流程集成，支持自动化测试和部署。</td></tr><tr><td>6</td><td>社区和生态系统支持</td><td>Docker 和 Docker Compose 享有广泛的社区支持，拥有大量的预构建镜像和插件，使得开发更加高效。</td></tr></tbody></table></div><p>为了深入理解和高效使用 Docker Compose，以下资源可能会很有帮助：</p><h2 id="14-1-Docker-官方文档"><a href="#14-1-Docker-官方文档" class="headerlink" title="14.1 Docker 官方文档"></a>14.1 Docker 官方文档</h2><ul><li>Docker Compose Overview</li><li>提供了对于 Docker Compose 的基础知识、命令参考和常见问题解答。</li></ul><h2 id="14-2-互动教程"><a href="#14-2-互动教程" class="headerlink" title="14.2 互动教程"></a>14.2 互动教程</h2><ul><li>Play with Docker</li><li>一个免费的在线实验室，可以在浏览器中实践 Docker 和 Docker Compose。</li></ul><h2 id="14-3-在线课程和教程"><a href="#14-3-在线课程和教程" class="headerlink" title="14.3 在线课程和教程"></a>14.3 在线课程和教程</h2><p>网站如 <code>Udemy</code>、<code>Coursera</code> 或 <code>Pluralsight</code> 提供有关 Docker 和 Docker Compose 的详细课程。</p><h2 id="14-4-书籍"><a href="#14-4-书籍" class="headerlink" title="14.4 书籍"></a>14.4 书籍</h2><p>查找有关 Docker 和 Docker Compose 的书籍，例如<code>《Docker 深入与实践》</code>等，以获得更系统的学习。</p><h2 id="14-5-社区和论坛"><a href="#14-5-社区和论坛" class="headerlink" title="14.5 社区和论坛"></a>14.5 社区和论坛</h2><ul><li>加入 Docker 社区论坛或相关的 Reddit 社区，与其他 Docker 用户交流经验。</li></ul><p>通过利用这些资源，您可以不断提升使用 Docker Compose 的技能，更好地在现代软件开发和运维中发挥其优势。</p></div><hr><div class="reprint" id="reprint-statement"><div class="reprint__author"><span class="reprint-meta" style="font-weight:700"><i class="fas fa-user">文章作者:</i></span> <span class="reprint-info"><a href="/about" rel="external nofollow noreferrer">Kezade</a></span></div><div class="reprint__type"><span class="reprint-meta" style="font-weight:700"><i class="fas fa-link">文章链接:</i></span> <span class="reprint-info"><a href="https://zyxelva.github.io/posts/2734382372.html">https://zyxelva.github.io/posts/2734382372.html</a></span></div><div class="reprint__notice"><span class="reprint-meta" style="font-weight:700"><i class="fas fa-copyright">版权声明:</i></span> <span class="reprint-info">本博客所有文章除特別声明外，均采用 <a href="https://creativecommons.org/licenses/by/4.0/deed.zh" rel="external nofollow noreferrer" target="_blank">CC BY 4.0</a> 许可协议。转载请注明来源 <a href="/about" target="_blank">Kezade</a> !</span></div></div><script async defer>function navToReprintStatement(){$("html, body").animate({scrollTop:$("#reprint-statement").offset().top-80},800)}document.addEventListener("copy",function(t){M.toast({html:'<span>复制成功，请遵循本文的转载规则</span><button class="btn-flat toast-action" onclick="navToReprintStatement()" style="font-size: smaller">查看</a>'})})</script><div class="tag_share" style="display:block"><div class="post-meta__tag-list" style="display:inline-block"><div class="article-tag"><a href="/tags/Docker/"><span class="chip bg-color">Docker</span></a> <a href="/tags/Docker-Compose/"><span class="chip bg-color">Docker Compose</span></a></div></div><div class="post_share" style="zoom:80%;width:fit-content;display:inline-block;float:right;margin:-.15rem 0"><link rel="stylesheet" href="https://gcore.jsdelivr.net/gh/zyxelva/zyxelva.github.io@main/libs/share/css/share.min.css"><div id="article-share"><div class="social-share" data-sites="google,qq,qzone,wechat,weibo,douban,linkedin" data-wechat-qrcode-helper="<p>微信扫一扫即可分享！</p>"></div><script src="https://gcore.jsdelivr.net/gh/zyxelva/zyxelva.github.io@main/libs/share/js/social-share.min.js"></script></div></div></div><div id="reward"><a href="#rewardModal" class="reward-link modal-trigger btn-floating btn-medium waves-effect waves-light red">赏</a><div id="rewardModal" class="modal"><div class="modal-content"><a class="close modal-close"><i class="fas fa-times"></i></a><h4 class="reward-title">你的赏识是我前进的动力</h4><div class="reward-content"><div class="reward-tabs"><ul class="tabs row"><li class="tab col s6 alipay-tab waves-effect waves-light"><a href="#alipay">支付宝</a></li><li class="tab col s6 wechat-tab waves-effect waves-light"><a href="#wechat">微 信</a></li></ul><div id="alipay"><img src="https://gcore.jsdelivr.net/gh/zyxelva/zyxelva.github.io@main/medias/reward/alipay.jpg" class="reward-img" alt="支付宝打赏二维码"></div><div id="wechat"><img src="https://gcore.jsdelivr.net/gh/zyxelva/zyxelva.github.io@main/medias/reward/wechat.png" class="reward-img" alt="微信打赏二维码"></div></div></div></div></div></div><script>$(function(){$(".tabs").tabs()})</script></div></div><style>.twikoo-card{margin:1.5rem auto}.twikoo-card .card-content{padding:20px}#tcomments textarea{box-sizing:border-box;background:url("/") 100% 100% no-repeat}#tcomments p{margin:2px 2px 10px;font-size:1.05rem;line-height:1.78rem;text-align:left}#tcomments blockquote p{text-indent:.2rem}#tcomments a{padding:0 2px;color:#4cbf30;font-weight:500;text-decoration:none}#tcomments img{max-width:100%;height:auto;cursor:pointer}#tcomments ol li{list-style-type:decimal}#tcomments ol,ul{display:block;padding-left:2em;word-spacing:0.05rem}#tcomments ul li,ol li{display:list-item;line-height:1.8rem;font-size:1rem}#tcomments ul li{list-style-type:disc}#tcomments ul ul li{list-style-type:circle}#tcomments table,td,th{padding:12px 13px;border:1px solid #dfe2e5}#tcomments table,td,th{border:0}table tr:nth-child(2n),thead{background-color:#fafafa}#tcomments table th{background-color:#f2f2f2;min-width:80px}#tcomments table td{min-width:80px}#tcomments h1{font-size:1.85rem;font-weight:700;line-height:2.2rem}#tcomments h2{font-size:1.65rem;font-weight:700;line-height:1.9rem}#tcomments h3{font-size:1.45rem;font-weight:700;line-height:1.7rem}#tcomments h4{font-size:1.25rem;font-weight:700;line-height:1.5rem}#tcomments h5{font-size:1.1rem;font-weight:700;line-height:1.4rem}#tcomments h6{font-size:1rem;line-height:1.3rem}#tcomments p{font-size:1rem;line-height:1.5rem}#tcomments hr{margin:12px 0;border:0;border-top:1px solid #ccc}#tcomments blockquote{margin:15px 0;border-left:5px solid #42b983;padding:1rem .8rem .3rem .8rem;color:#666;background-color:rgba(66,185,131,.1)}#tcomments pre{font-family:monospace,monospace;padding:1.2em;margin:.5em 0;background:#272822;overflow:auto;border-radius:.3em;tab-size:4}#tcomments code{font-family:monospace,monospace;padding:1px 3px;font-size:.92rem;color:#e96900;background-color:#f8f8f8;border-radius:2px}#tcomments pre code{font-family:monospace,monospace;padding:0;color:#e8eaf6;background-color:#272822}#tcomments pre[class*=language-]{padding:1.2em;margin:.5em 0}#tcomments code[class*=language-],pre[class*=language-]{color:#e8eaf6}#tcomments [type=checkbox]:not(:checked),[type=checkbox]:checked{position:inherit;margin-left:-1.3rem;margin-right:.4rem;margin-top:-1px;vertical-align:middle;left:unset;visibility:visible}#tcomments b,strong{font-weight:700}#tcomments dfn{font-style:italic}#tcomments small{font-size:85%}#tcomments cite{font-style:normal}#tcomments mark{background-color:#fcf8e3;padding:.2em}#tcomments table,td,th{padding:12px 13px;border:1px solid #dfe2e5}table tr:nth-child(2n),thead{background-color:#fafafa}#tcomments table th{background-color:#f2f2f2;min-width:80px}#tcomments table td{min-width:80px}#tcomments [type=checkbox]:not(:checked),[type=checkbox]:checked{position:inherit;margin-left:-1.3rem;margin-right:.4rem;margin-top:-1px;vertical-align:middle;left:unset;visibility:visible}</style><div class="card twikoo-card" data-aos="fade-up"><div class="comment_headling" style="font-size:20px;font-weight:700;position:relative;padding-left:20px;top:15px;padding-bottom:5px"><i class="fas fa-comments fa-fw" aria-hidden="true"></i> <span>评论</span></div><div class="card-content" style="display:grid"><div id="tcomments"></div></div></div><script src="https://gcore.jsdelivr.net/npm/twikoo/dist/twikoo.all.min.js"></script><script>twikoo.init({envId:"https://kezadetwikoo.netlify.app/.netlify/functions/twikoo",el:"#tcomments",region:"",path:""}).then(function(){for(var t=document.querySelector("#twikoo").getElementsByTagName("input"),e=0;e<t.length;e++)t[e]&&t[e].classList.add("browser-default")})</script><article id="prenext-posts" class="prev-next articles"><div class="row article-row"><div class="article col s12 m6" data-aos="fade-up"><div class="article-badge left-badge text-color"><i class="fas fa-chevron-left"></i> &nbsp;上一篇</div><div class="card"><a href="/posts/3652452873.html"><div class="card-image"><img src="https://gcore.jsdelivr.net/gh/zyxelva/zyxelva.github.io@main/medias/featureimages/7.jpg" class="responsive-img" alt="【考研数学】8.4空间直线及其方程"> <span class="card-title">【考研数学】8.4空间直线及其方程</span></div></a><div class="card-content article-content"><div class="summary block-with-text"></div><div class="publish-info"><span class="publish-date"><i class="far fa-clock fa-fw icon-date"></i> 2025-01-09</span><span class="publish-author"><i class="fas fa-bookmark fa-fw icon-category"></i> <a href="/categories/%E8%80%83%E7%A0%94/" class="post-category">考研</a></span></div></div><div class="card-action article-tags"><a href="/tags/%E8%80%83%E7%A0%94/"><span class="chip bg-color">考研</span></a> <a href="/tags/%E6%95%B0%E5%AD%A6/"><span class="chip bg-color">数学</span></a> <a href="/tags/%E7%A9%BA%E9%97%B4%E7%9B%B4%E7%BA%BF%E6%96%B9%E7%A8%8B/"><span class="chip bg-color">空间直线方程</span></a></div></div></div><div class="article col s12 m6" data-aos="fade-up"><div class="article-badge right-badge text-color">下一篇&nbsp;<i class="fas fa-chevron-right"></i></div><div class="card"><a href="/posts/934367677.html"><div class="card-image"><img src="https://gcore.jsdelivr.net/gh/zyxelva/zyxelva.github.io@main/medias/featureimages/8.jpg" class="responsive-img" alt="【Docker学习】5.集群部署RocketMQ"> <span class="card-title">【Docker学习】5.集群部署RocketMQ</span></div></a><div class="card-content article-content"><div class="summary block-with-text"></div><div class="publish-info"><span class="publish-date"><i class="far fa-clock fa-fw icon-date"></i> 2024-07-23</span><span class="publish-author"><i class="fas fa-bookmark fa-fw icon-category"></i> <a href="/categories/Docker%E5%AD%A6%E4%B9%A0/" class="post-category">Docker学习</a></span></div></div><div class="card-action article-tags"><a href="/tags/Docker/"><span class="chip bg-color">Docker</span></a> <a href="/tags/Docker-Compose/"><span class="chip bg-color">Docker Compose</span></a></div></div></div></div></article></div><script>$("#articleContent").on("copy",function(e){if(void 0!==window.getSelection){var n=window.getSelection();if(!((""+n).length<Number.parseInt("120"))){var t=document.getElementsByTagName("body")[0],o=document.createElement("div");o.style.position="absolute",o.style.left="-99999px",t.appendChild(o),o.appendChild(n.getRangeAt(0).cloneContents()),"PRE"!==n.getRangeAt(0).commonAncestorContainer.nodeName&&"CODE"!==n.getRangeAt(0).commonAncestorContainer.nodeName||(o.innerHTML="<pre>"+o.innerHTML+"</pre>");var i=document.location.href;o.innerHTML+='<br />来源: Kezade<br />文章作者: Kezade<br />文章链接: <a href="'+i+'">'+i+"</a><br />本文章著作权归作者所有，任何形式的转载都请注明出处。",n.selectAllChildren(o),window.setTimeout(function(){t.removeChild(o)},200)}}})</script><script src="https://gcore.jsdelivr.net/gh/zyxelva/zyxelva.github.io@main/libs/codeBlock/codeBlockFuction.js"></script><script src="https://gcore.jsdelivr.net/gh/zyxelva/zyxelva.github.io@main/libs/prism/prism.min.js"></script><script src="https://gcore.jsdelivr.net/gh/zyxelva/zyxelva.github.io@main/libs/codeBlock/codeLang.js"></script><script src="https://gcore.jsdelivr.net/gh/zyxelva/zyxelva.github.io@main/libs/codeBlock/codeCopy.js"></script><script src="https://gcore.jsdelivr.net/gh/zyxelva/zyxelva.github.io@main/libs/codeBlock/codeShrink.js"></script></div><div id="toc-aside" class="expanded col l3 hide-on-med-and-down"><div class="toc-widget card" style="background-color:#fff"><div class="toc-title"><i class="far fa-list-alt"></i>&nbsp;&nbsp;目录</div><div id="toc-content"></div></div></div></div><div id="floating-toc-btn" class="hide-on-med-and-down"><a class="btn-floating btn-large bg-color"><i class="fas fa-list-ul"></i></a></div><script src="https://gcore.jsdelivr.net/gh/zyxelva/zyxelva.github.io@main/libs/tocbot/tocbot.min.js"></script><script>$(function(){tocbot.init({tocSelector:"#toc-content",contentSelector:"#articleContent",headingsOffset:-(.4*$(window).height()-45),collapseDepth:Number("0"),headingSelector:"h1, h2, h3, h4, h5"});let t=parseInt(.4*$(window).height()-64),e=$(".toc-widget");$(window).scroll(function(){$(window).scrollTop()>t?e.addClass("toc-fixed"):e.removeClass("toc-fixed")});const o="expanded";let n=$("#toc-aside"),i=$("#main-content");$("#floating-toc-btn .btn-floating").click(function(){n.hasClass(o)?(n.removeClass(o).hide(),i.removeClass("l9")):(n.addClass(o).show(),i.addClass("l9")),function(t,e){let o=$("#"+t);if(0===o.length)return;let n=o.width();n+=n>=450?21:n>=350&&n<450?18:n>=300&&n<350?16:14,$("#"+e).width(n)}("artDetail","prenext-posts")})})</script></main><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><script>MathJax.Hub.Config({tex2jax:{inlineMath:[["$","$"],["\\(","\\)"]]}})</script><footer class="page-footer bg-color"><div class="container row center-align" style="margin-bottom:15px!important"><div class="col s12 m8 l8 copy-right">Copyright&nbsp;&copy; <span id="year">2019-2025</span> <a href="/about" target="_blank">Kezade</a> |&nbsp;Powered by&nbsp;<a href="https://hexo.io/" target="_blank">Hexo</a> |&nbsp;Theme&nbsp;<a href="https://github.com/blinkfox/hexo-theme-matery" target="_blank">Matery</a><br><br><span id="sitetime">Loading ...</span><script>var calcSiteTime=function(){var e=6e4,t=36e5,n=864e5,a=365*n,i=new Date,r="2019",o=i.getFullYear(),s=i.getMonth()+1,l=i.getDate(),m=i.getHours(),c=i.getMinutes(),d=i.getSeconds(),g=Date.UTC(r,"6","28","0","0","0"),h=Date.UTC(o,s,l,m,c,d)-g,u=Math.floor(h/a),M=Math.floor(h/n-365*u),T=Math.floor((h-(365*u+M)*n)/t),f=Math.floor((h-(365*u+M)*n-T*t)/e),y=Math.floor((h-(365*u+M)*n-T*t-f*e)/1e3);if(r===String(o)){document.getElementById("year").innerHTML=o;var v="This site has been running for "+M+" days";v="本站已运行 "+M+" 天",document.getElementById("sitetime").innerHTML=v}else{document.getElementById("year").innerHTML=r+" - "+o;var H="This site has been running for "+u+" years and "+M+" days "+T+" hours "+f+" mins "+y+" seconds";H="本站已苟且偷生 "+u+" 年 "+M+" 天 "+T+" 小时 "+f+" 分钟 "+y+" 秒",document.getElementById("sitetime").innerHTML=H}};calcSiteTime(),setInterval(calcSiteTime,1e3)</script><br></div><div class="col s12 m4 l4 social-link"><a href="https://github.com/zyxelva" class="tooltipped" target="_blank" data-tooltip="访问我的GitHub" data-position="top" data-delay="50"><i class="fab fa-github"></i></a><a href="mailto:zyxelva@gmail.com" class="tooltipped" target="_blank" data-tooltip="邮件联系我" data-position="top" data-delay="50"><i class="fas fa-envelope-open"></i></a><a href="tencent://AddContact/?fromId=50&fromSubId=1&subcmd=all&uin=1807401971" class="tooltipped" target="_blank" data-tooltip="QQ联系我: 1807401971" data-position="top" data-delay="50"><i class="fab fa-qq"></i></a> <a href="https://www.zhihu.com/people/kezade" class="tooltipped" target="_blank" data-tooltip="关注我的知乎: https://www.zhihu.com/people/kezade" data-position="top" data-delay="50"><i class="fab fa-zhihu1">知</i></a><a href="../rss2.xml" class="tooltipped" target="_blank" data-tooltip="RSS 订阅" data-position="top" data-delay="50"><i class="fas fa-rss"></i></a></div></div></footer><div class="progress-bar"></div><div id="searchModal" class="modal"><div class="modal-content"><div class="search-header"><span class="title"><i class="fas fa-search"></i> &nbsp;&nbsp;搜索</span> <input type="search" id="searchInput" name="s" placeholder="请输入搜索的关键字" class="search-input"></div><div id="searchResult"></div></div></div><script>$(function(){!function(t,e,r){"use strict";$.ajax({url:t,dataType:"xml",success:function(t){var n=$("entry",t).map(function(){return{title:$("title",this).text(),content:$("content",this).text(),url:$("url",this).text()}}).get(),a=document.getElementById(e),s=document.getElementById(r);a.addEventListener("input",function(){var t='<ul class="search-result-list">',e=this.value.trim().toLowerCase().split(/[\s\-]+/);s.innerHTML="",this.value.trim().length<=0||(n.forEach(function(r){var n=!0,a=r.title.trim().toLowerCase(),s=r.content.trim().replace(/<[^>]+>/g,"").toLowerCase(),i=r.url;i=0===i.indexOf("/")?r.url:"/"+i;var l=-1,c=-1,u=-1;if(""!==a&&""!==s&&e.forEach(function(t,e){l=a.indexOf(t),c=s.indexOf(t),l<0&&c<0?n=!1:(c<0&&(c=0),0===e&&(u=c))}),n){t+="<li><a href='"+i+"' class='search-result-title'>"+a+"</a>";var o=r.content.trim().replace(/<[^>]+>/g,"");if(u>=0){var h=u-20,f=u+80;h<0&&(h=0),0===h&&(f=100),f>o.length&&(f=o.length);var m=o.substr(h,f);e.forEach(function(t){var e=new RegExp(t,"gi");m=m.replace(e,'<em class="search-keyword">'+t+"</em>")}),t+='<p class="search-result">'+m+"...</p>"}t+="</li>"}}),t+="</ul>",s.innerHTML=t)})}})}("/search.xml","searchInput","searchResult")})</script><div class="stars-con"><div id="stars"></div><div id="stars2"></div><div id="stars3"></div></div><script>function switchNightMode(){$('<div class="Cuteen_DarkSky"><div class="Cuteen_DarkPlanet"></div></div>').appendTo($("body")),setTimeout(function(){$("body").hasClass("DarkMode")?($("body").removeClass("DarkMode"),localStorage.setItem("isDark","0"),$("#sum-moon-icon").removeClass("fa-sun").addClass("fa-moon")):($("body").addClass("DarkMode"),localStorage.setItem("isDark","1"),$("#sum-moon-icon").addClass("fa-sun").removeClass("fa-moon")),setTimeout(function(){$(".Cuteen_DarkSky").fadeOut(1e3,function(){$(this).remove()})},2e3)})}</script><div id="backTop" class="top-scroll"><a class="btn-floating btn-large waves-effect waves-light" href="#!"><i class="fas fa-arrow-up"></i></a></div><script src="https://gcore.jsdelivr.net/gh/zyxelva/zyxelva.github.io@main/libs/materialize/materialize.min.js"></script><script src="https://gcore.jsdelivr.net/gh/zyxelva/zyxelva.github.io@main/libs/masonry/masonry.pkgd.min.js"></script><script src="https://gcore.jsdelivr.net/gh/zyxelva/zyxelva.github.io@main/libs/aos/aos.js"></script><script src="https://gcore.jsdelivr.net/gh/zyxelva/zyxelva.github.io@main/libs/scrollprogress/scrollProgress.min.js"></script><script src="https://gcore.jsdelivr.net/gh/zyxelva/zyxelva.github.io@main/libs/lightGallery/js/lightgallery-all.min.js"></script><script src="https://gcore.jsdelivr.net/gh/zyxelva/zyxelva.github.io@main/js/matery.js"></script><link rel="stylesheet" href="https://gcore.jsdelivr.net/gh/zyxelva/zyxelva.github.io@main/libs/mermaid/mermaid.min.css"><script src="https://gcore.jsdelivr.net/gh/zyxelva/zyxelva.github.io@main/libs/mermaid/mermaid.min.js"></script><script>window.mermaid&&mermaid.initialize({theme:"forest"})</script><script>!function(){var t=document.createElement("script"),e=window.location.protocol.split(":")[0];t.src="https"===e?"https://zz.bdstatic.com/linksubmit/push.js":"http://push.zhanzhang.baidu.com/push.js";var s=document.getElementsByTagName("script")[0];s.parentNode.insertBefore(t,s)}()</script><script src="https://gcore.jsdelivr.net/gh/zyxelva/zyxelva.github.io@main/libs/background/ribbon-dynamic.js" async></script><script src="https://gcore.jsdelivr.net/gh/zyxelva/zyxelva.github.io@main/libs/instantpage/instantpage.js" type="module"></script></body></html>